{"remainingRequest":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\teamLeader\\deviceReview\\testingAcceptance\\index.vue?vue&type=style&index=1&lang=scss&","dependencies":[{"path":"G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\teamLeader\\deviceReview\\testingAcceptance\\index.vue","mtime":1747383284898},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\style-resources-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.dashboard-container {\n  .cancelReason {\n    padding-left: 40px;\n  }\n\n  .cancelTime {\n    padding-left: 50px;\n  }\n\n  .orderTime {\n    padding-left: 50px;\n  }\n\n  td.operate .cell {\n\n    .before,\n    .middle,\n    .after {\n      height: 39px;\n      width: 48px;\n    }\n  }\n\n  td.operate .cell,\n  td.otherOperate .cell {\n    display: flex;\n    flex-wrap: nowrap;\n    justify-content: center;\n  }\n\n  .order-dialog {\n    .el-dialog {\n      max-height: 764px !important;\n      display: flex;\n      flex-direction: column;\n      margin: 0 !important;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      max-height: calc(100% - 30px);\n      max-width: calc(100% - 30px);\n    }\n\n    .el-dialog__body {\n      height: 520px !important;\n    }\n  }\n}\n\n.el-dialog__body {\n  padding-top: 34px;\n  padding-left: 30px;\n  padding-right: 30px;\n}\n\n.cancelDialog {\n  .el-dialog__body {\n    padding-left: 64px;\n  }\n\n  .el-select,\n  .el-textarea {\n    width: 293px;\n  }\n\n  .el-textarea textarea {\n    height: 114px;\n  }\n}\n\n.el-dialog__footer {\n  .el-checkbox {\n    float: left;\n    margin-left: 40px;\n  }\n\n  .el-checkbox__label {\n    color: #333333 !important;\n  }\n}\n\n.empty-box {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  img {\n    margin-top: 0 !important;\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyvBA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/teamLeader/deviceReview/testingAcceptance","sourcesContent":["<template>\r\n    <div class=\"dashboard-container\">\r\n      <TabChange :order-statics=\"orderStatics\" :default-activity=\"defaultActivity\" @tabChange=\"change\" />\r\n      <div class=\"container\" :class=\"{ hContainer: tableData.length }\">\r\n        <!-- 搜索项 -->\r\n        <div class=\"tableBar\">\r\n          <label style=\"margin-right: 10px\">任务编号：</label>\r\n          <el-input v-model=\"taskCode\" placeholder=\"请输入任务编号\" style=\"width: 15%\" clearable\r\n            @clear=\"init(outboundStatus)\" @keyup.enter.native=\"initFun(outboundStatus)\" />\r\n          <label style=\"margin-right: 10px; margin-left: 20px\">设备编号：</label>\r\n          <el-select v-model=\"deviceId\" style=\"width: 14%\" placeholder=\"请选择\" clearable @clear=\"init\">\r\n            <el-option label=\"客服设备\" value=\"1\" />\r\n            <el-option label=\"机电设备\" value=\"2\" />\r\n            <el-option label=\"消防设备\" value=\"3\" />\r\n            <el-option label=\"电梯设备\" value=\"4\" />\r\n          </el-select>\r\n          <label style=\"margin-left: 20px\">开始时间：</label>\r\n          <el-date-picker v-model=\"startTime\" clearable value-format=\"yyyy-MM-dd HH:mm:ss\" type=\"datetime\" placeholder=\"开始时间\"\r\n            style=\"width: 25%; margin-left: 10px\" @clear=\"init(outboundStatus)\" />\r\n          <el-button class=\"normal-btn continue\" @click=\"init(outboundStatus, true)\">\r\n            查询\r\n          </el-button>\r\n          <el-button type=\"primary\" style=\"margin-left: 120px\" @click=\"\">\r\n            <!-- addTask -->\r\n            添加任务\r\n          </el-button>\r\n        </div>\r\n        <el-table v-if=\"tableData.length\" :data=\"tableData\" stripe class=\"tableBox\">\r\n          <el-table-column key=\"task_id\" prop=\"task_id\" label=\"任务ID\" />\r\n          <el-table-column key=\"task_code\" prop=\"task_code\" label=\"任务编号\" />\r\n          <el-table-column key=\"device_id\" prop=\"device_id\" label=\"设备ID\" />\r\n          <el-table-column key=\"device_code\" prop=\"device_code\" label=\"设备编号\" />\r\n          <el-table-column key=\"device_name\" prop=\"device_name\" label=\"设备名称\" />\r\n          <el-table-column key=\"task_name\" prop=\"task_name\" label=\"任务名称\" />\r\n          <el-table-column key=\"start_time\" prop=\"start_time\" label=\"开始时间\" />\r\n          <el-table-column key=\"end_time\" prop=\"end_time\" label=\"结束时间\" />\r\n          <el-table-column key=\"executor_id\" prop=\"executor_id\" label=\"执行人ID\" />\r\n          <el-table-column key=\"executor_name\" prop=\"executor_name\" label=\"执行人姓名\" />\r\n          <el-table-column key=\"status\" prop=\"status\" label=\"状态\">\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ getStatusText(row.status) }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column key=\"process_time\" prop=\"process_time\" label=\"接单时间\" />\r\n          <el-table-column key=\"complete_time\" prop=\"complete_time\" label=\"完成时间\" />\r\n          <el-table-column key=\"close_time\" prop=\"close_time\" label=\"关闭时间\" />\r\n          <el-table-column prop=\"btn\" label=\"操作\" align=\"center\">\r\n            <template slot-scope=\"{ row }\">\r\n              <el-button type=\"text\" class=\"delBut\" >\r\n                <!-- @click=\"handleCancel(row)\" -->\r\n                取消\r\n              </el-button>\r\n              <el-button type=\"text\" class=\"blueBug non\" >\r\n                <!-- @click=\"goDetail(row)\" -->\r\n                查看\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <Empty v-else :is-search=\"isSearch\" />\r\n        <el-pagination v-if=\"counts > 10\" class=\"pageList\" :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\" :total=\"counts\" @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\" />\r\n      </div>\r\n      <!-- 查看弹框部分 -->\r\n      <el-dialog title=\"任务详细信息\" :visible.sync=\"dialogVisible\" width=\"53%\" :before-close=\"handleClose\"\r\n        class=\"order-dialog\">\r\n        <el-scrollbar style=\"height: 100%\">\r\n          <!-- 顶部信息 -->\r\n          <div class=\"order-top\">\r\n            <div>\r\n              <div style=\"display: inline-block\">\r\n                <label style=\"font-size: 16px\">任务编号：</label>\r\n                <div class=\"order-num\">\r\n                  {{ diaForm.task_code }}\r\n                </div>\r\n              </div>\r\n              <div style=\"display: inline-block\" class=\"order-status\" :class=\"{ status3: true }\">\r\n                {{\r\n                  outboundList.filter((item) => item.value === dialogOutboundStatus)[0].label\r\n                }}\r\n              </div>\r\n            </div>\r\n            <p><label>创建时间：</label>{{ diaForm.create_time }}</p>\r\n          </div>\r\n          <!-- 中间信息 -->\r\n          <div class=\"order-middle\">\r\n            <!-- 任务信息 -->\r\n            <div class=\"dish-label\">任务信息</div>\r\n            <div class=\"user-info\">\r\n              <div class=\"user-info-box\">\r\n                <div class=\"user-name\">\r\n                  <label>执行人姓名：</label>\r\n                  <span>{{ diaForm.executor_name }}</span>\r\n                </div>\r\n                <div class=\"user-name\">\r\n                  <label>状态：</label>\r\n                  <span>{{getStatusText(diaForm.status) }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- 底部信息 -->\r\n          <div class=\"order-bottom\">\r\n            <div class=\"amount-label\">备注信息</div>\r\n            <div class=\"amount-info\">\r\n              <div class=\"user-remark\">\r\n                <div>备注：</div>\r\n                <span>{{ diaForm.remark }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-scrollbar>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button v-if=\"true\" @click=\"dialogVisible = false\">返 回</el-button>\r\n          <el-button v-if=\"[0].includes(dialogOutboundStatus)\" type=\"primary\"\r\n            >取消任务</el-button>\r\n            <!-- @click=\"cancelTask(row)\". -->\r\n        </span>\r\n      </el-dialog>\r\n    </div>\r\n  </template>\r\n  \r\n  <script lang=\"ts\">\r\n  import { Component, Vue } from 'vue-property-decorator'\r\n  import HeadLable from '@/components/HeadLable/index.vue'\r\n  import InputAutoComplete from '@/components/InputAutoComplete/index.vue'\r\n  import TabChange from './tabChange.vue'\r\n  import Empty from '@/components/Empty/index.vue'\r\n  import {\r\n    getMaintenanceTaskPage,\r\n    queryMaintenanceTaskById,\r\n    getTaskStatusListBy,\r\n    cancelTask,\r\n  } from '@/api/maintenance'\r\n  import { status } from 'nprogress'\r\n  import {\r\n    getDetectionTaskPage,\r\n    queryDetectionTaskById,\r\n    getDetectionTaskStatusList,\r\n    cancelDetectionTask,\r\n  } from '@/api/detection'\r\n  \r\n  @Component({\r\n    components: {\r\n      HeadLable,\r\n      InputAutoComplete,\r\n      TabChange,\r\n      Empty,\r\n    },\r\n  })\r\n  export default class extends Vue {\r\n    private defaultActivity: any = 0\r\n    private orderStatics = {}\r\n    private row = {}\r\n    private taskCode = ''\r\n    private dialogRequestStatus = -2\r\n    private cancelDialogVisible = false\r\n    private cancelReason = ''\r\n    private valueTime = []\r\n    private dialogVisible = false //详情弹窗\r\n    private remark = '' //自定义原因\r\n    private equipmentName = ''\r\n    private status = -1\r\n    private deviceId = ''\r\n    private startTime = ''\r\n    private endTime = ''\r\n    private isShow: boolean = false\r\n    private counts: number = 0\r\n    private page: number = 1\r\n    private pageSize: number = 10\r\n    private tableData = []\r\n    private canceloutboundList = [\r\n      {\r\n        label: '重复任务',\r\n        value: '重复任务',\r\n      },\r\n      {\r\n        label: '任务取消',\r\n        value: '任务取消',\r\n      },\r\n      {\r\n        label: '自定义原因',\r\n        value: '自定义原因',\r\n      },\r\n    ]\r\n  \r\n    private diaForm = []\r\n    private isSearch: boolean = false\r\n    private outboundStatus = -1 //列表字段展示所需订单状态,用于分页请求数据\r\n    private dialogOutboundStatus = 0 //弹窗所需订单状态，用于详情展示字段\r\n  \r\n    private outboundList = [\r\n      {\r\n        label: '全部任务',\r\n        value: -1,\r\n      },\r\n      {\r\n        label: '待执行',\r\n        value: 0,\r\n      },\r\n      {\r\n        label: '执行中',\r\n        value: 1,\r\n      },\r\n      {\r\n        label: '待验收',\r\n        value: 2,\r\n      },\r\n      {\r\n        label: '已验收',\r\n        value: 3,\r\n      },\r\n      {\r\n        label: '已关闭',\r\n        value: 4,\r\n      }\r\n    ]\r\n    created() {\r\n      this.init(Number(this.$route.query.status) || -1)\r\n    }\r\n  \r\n    mounted() {\r\n      //如果有值说明是消息通知点击进来的\r\n      if (this.$route.query.orderId) {\r\n        this.goDetail(this.$route.query.orderId, 2)\r\n      }\r\n      if (this.$route.query.status) {\r\n        this.defaultActivity = this.$route.query.status\r\n      }\r\n    }\r\n  \r\n    initFun(outboundStatus) {\r\n      this.page = 1\r\n      this.init(outboundStatus)\r\n    }\r\n  \r\n    //管理标签页点击事件\r\n    private handleTabChange(activeIndex) {\r\n      if (activeIndex === this.outboundStatus) return\r\n      this.init(activeIndex)\r\n      this.valueTime = []\r\n      this.dialogOutboundStatus = 0\r\n      this.$router.push('/teamLeader/outbound')\r\n      console.log(activeIndex, '接收到了子组件的index')\r\n    }\r\n  \r\n    //获取待处理，待派送，派送中数量\r\n    private getMaintenanceAcceptanceListBy4Status() {\r\n      // getTaskStatusListBy({})\r\n      //   .then((res) => {\r\n      //     if (res.data.code === 1) {\r\n      //       this.orderStatics = res.data.data\r\n      //     } else {\r\n      //       this.$message.error(res.data.msg)\r\n      //     }\r\n      //   })\r\n      //   .catch((err) => {\r\n      //     this.$message.error('请求出错了：' + err.message)\r\n      //   })\r\n  u  }\r\n  genbu\r\n    private init(activeIndex: number = -1, isSearch?) {\r\n      const params = {\r\n        page: this.page,\r\n        pageSize: this.pageSize,\r\n        taskCode: this.taskCode || undefined,\r\n        deviceId: this.deviceId || undefined,\r\n        beginTime: this.startTime || undefined,\r\n        endTime: this.endTime || undefined,\r\n        status: activeIndex === -1 ? undefined : activeIndex\r\n      }\r\n      getDetectionTaskPage(params)\r\n        .then((res) => {\r\n          if (res.data.code === 1) {\r\n            this.tableData = res.data.data.records\r\n            this.detectionStatus = activeIndex\r\n            this.counts = Number(res.data.data.total)\r\n            this.getDetectionTaskStatusList()\r\n          } else {\r\n            this.$message.error(res.data.msg)\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.$message.error('请求出错了：' + err.message)\r\n        })\r\n    }\r\n  \r\n    // 添加任务对话框\r\n    addTaskDialog() {\r\n      // const dialog = this.$prompt({\r\n      //   title: '添加任务',\r\n      //   component: AddTaskDialog,\r\n      //   width: '30%',\r\n      //   props: { equipmentType: this.equipmentType }\r\n      // })\r\n      // dialog.then(({ value }) => {\r\n      //   if (value) {\r\n      //     this.addTask(value)\r\n      //   }\r\n      // }).catch(() => {\r\n      //   this.$message.error('添加任务失败')\r\n      // })\r\n    }\r\n  \r\n    // 获取任务状态\r\n    private getMaintenanceStatusText(row: any) {\r\n      if (row.status === 0) {\r\n        return '待审核'\r\n      } else if (row.status === 1) {\r\n        return '待出库'\r\n      } else if (row.status === 2) {\r\n        return '已完成'\r\n      } else if (row.status === 3) {\r\n        return '已驳回'\r\n      } else {\r\n        return '状态错误'\r\n      }\r\n    }\r\n  \r\n    // 获取设备类型\r\n    getEquimentType(row: any) {\r\n      if (row.equipmentType === 1) {\r\n        return '客服设备'\r\n      } else if (row.equipmentType === 2) {\r\n        return '机电设备'\r\n      } else if (row.equipmentType === 3) {\r\n        return '消防设备'\r\n      } else if (row.equipmentType === 4) {\r\n        return '电梯设备'\r\n      } else {\r\n        return '状态错误'\r\n      }\r\n    }\r\n  \r\n    // 查看详情\r\n    async goDetail(id: any, status: number, row?: any) {\r\n      this.diaForm = []\r\n      this.dialogVisible = true\r\n      this.dialogOutboundStatus = status\r\n      // this.requestCode = id\r\n      console.log(\"查看详情Id\" + id)\r\n      const { data } = await queryMaintenanceTaskById({ taskCode: id })\r\n      this.diaForm = data.data\r\n      this.row = row || { id: this.$route.query.requestCode, status: status }\r\n    }\r\n  \r\n    private handleCancelMaintenance(row: any) {\r\n      // this.cancelDialogVisible = true\r\n      // this.requestCode = row.requestCode\r\n      // this.dialogVisible = false\r\n      // this.remark = ''\r\n      // this.dialogrequestStatus = row.status\r\n    }\r\n  \r\n    //确认取消或拒绝订单并填写原因\r\n    confirmCancel(type) {\r\n      if (!this.remark) {\r\n        return this.$message.error(`请选择取消原因`)\r\n      }\r\n  \r\n      ; cancelTask({\r\n        // taskCode: this.requestCode,\r\n        status: 2,\r\n        // eslint-disable-next-line standard/computed-property-even-spacing\r\n        remark: this.cancelReason\r\n      })\r\n        .then((res) => {\r\n          if (res.data.code === 1) {\r\n            this.$message.success('操作成功')\r\n            // this.cancelDialogVisible = false\r\n            // this.requestCode = ''\r\n            // this.dialogOrderStatus = 0\r\n            this.init(this.status)\r\n          } else {\r\n            this.$message.error(res.data.msg)\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.$message.error('请求出错了：' + err.message)\r\n        })\r\n    }\r\n    private handleCancelDetection(row: any) {\r\n      this.cancelDialogVisible = true\r\n      this.taskCode = row.task_code\r\n      this.dialogDetectionStatus = row.status\r\n    }\r\n  \r\n    private confirmCancel() {\r\n      cancelDetectionTask({\r\n        taskCode: this.taskCode,\r\n        status: 4, // 已关闭状态\r\n        remark: this.cancelReason\r\n      }).then((res) => {\r\n        if (res.data.code === 1) {\r\n          this.$message.success('操作成功')\r\n          this.cancelDialogVisible = false\r\n          this.init(this.detectionStatus)\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n    }\r\n    handleClose() {\r\n      this.dialogVisible = false\r\n    }\r\n    private getStatusText(status: number): string {\r\n      switch(status) {\r\n        case 0: return '待执行';\r\n        case 1: return '执行中';\r\n        case 2: return '待验收'; \r\n        case 3: return '已验收';\r\n        case 4: return '已关闭';\r\n        default: return '未知状态';\r\n      }\r\n    }\r\n    private handleSizeChange(val: any) {\r\n      this.pageSize = val\r\n      this.init(this.outboundStatus)\r\n    }\r\n  \r\n    private handleCurrentChange(val: any) {\r\n      this.page = val\r\n      this.init(this.outboundStatus)\r\n    }\r\n  }\r\n  </script>\r\n  <style lang=\"scss\" scoped>\r\n  .dashboard {\r\n    &-container {\r\n      margin: 30px;\r\n      // height: 100%;\r\n      min-height: 700px;\r\n  \r\n      .container {\r\n        background: #fff;\r\n        position: relative;\r\n        z-index: 1;\r\n        padding: 30px 28px;\r\n        border-radius: 4px;\r\n        // min-height: 650px;\r\n        height: calc(100% - 55px);\r\n  \r\n        .tableBar {\r\n          // display: flex;\r\n          margin-bottom: 20px;\r\n          justify-content: space-between;\r\n  \r\n          .tableLab {\r\n            span {\r\n              cursor: pointer;\r\n              display: inline-block;\r\n              font-size: 14px;\r\n              padding: 0 20px;\r\n              color: $gray-2;\r\n              border-right: solid 1px $gray-4;\r\n            }\r\n          }\r\n        }\r\n  \r\n        .tableBox {\r\n          width: 100%;\r\n          border: 1px solid $gray-5;\r\n          border-bottom: 0;\r\n        }\r\n  \r\n        .pageList {\r\n          text-align: center;\r\n          margin-top: 30px;\r\n        }\r\n  \r\n        //查询黑色按钮样式\r\n        .normal-btn {\r\n          background: #333333;\r\n          color: white;\r\n          margin-left: 20px;\r\n        }\r\n      }\r\n  \r\n      .hContainer {\r\n        height: auto !important;\r\n      }\r\n    }\r\n  }\r\n  \r\n  .search-btn {\r\n    margin-left: 20px;\r\n  }\r\n  \r\n  .info-box {\r\n    margin: -15px -44px 20px;\r\n  \r\n    p {\r\n      display: flex;\r\n      height: 20px;\r\n      line-height: 20px;\r\n      font-size: 14px;\r\n      font-weight: 400;\r\n      color: #666666;\r\n      text-align: left;\r\n      margin-bottom: 14px;\r\n  \r\n      &:last-child {\r\n        margin-bottom: 0;\r\n      }\r\n  \r\n      label {\r\n        width: 100px;\r\n        display: inline-block;\r\n        color: #666;\r\n      }\r\n  \r\n      .des {\r\n        flex: 1;\r\n        color: #333333;\r\n      }\r\n    }\r\n  }\r\n  \r\n  .order-top {\r\n    // height: 80px;\r\n    border-bottom: 1px solid #e7e6e6;\r\n    padding-bottom: 26px;\r\n    padding-left: 22px;\r\n    padding-right: 22px;\r\n    // margin: 0 30px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  \r\n    .order-status {\r\n      width: 57.25px;\r\n      height: 27px;\r\n      background: #333333;\r\n      border-radius: 13.5px;\r\n      color: white;\r\n      margin-left: 19px;\r\n      text-align: center;\r\n      line-height: 27px;\r\n    }\r\n  \r\n    .status3 {\r\n      background: #f56c6c;\r\n    }\r\n  \r\n    p {\r\n      color: #333;\r\n  \r\n      label {\r\n        color: #666;\r\n      }\r\n    }\r\n  \r\n    .order-num {\r\n      font-size: 16px;\r\n      color: #2a2929;\r\n      font-weight: bold;\r\n      display: inline-block;\r\n    }\r\n  }\r\n  \r\n  .order-middle {\r\n    .user-info {\r\n      min-height: 140px;\r\n      background: #fbfbfa;\r\n      margin-top: 23px;\r\n  \r\n      padding: 20px 43px;\r\n      color: #333;\r\n  \r\n      .user-info-box {\r\n        min-height: 55px;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n  \r\n        .user-name {\r\n          flex: 67%;\r\n        }\r\n  \r\n        .user-phone {\r\n          flex: 33%;\r\n        }\r\n  \r\n        .user-getTime {\r\n          margin-top: 14px;\r\n          flex: 80%;\r\n  \r\n          label {\r\n            margin-right: 3px;\r\n          }\r\n        }\r\n  \r\n        label {\r\n          margin-right: 17px;\r\n          color: #666;\r\n        }\r\n  \r\n        .user-address {\r\n          margin-top: 14px;\r\n          flex: 80%;\r\n  \r\n          label {\r\n            margin-right: 30px;\r\n          }\r\n        }\r\n      }\r\n  \r\n      .user-remark {\r\n        min-height: 43px;\r\n        line-height: 43px;\r\n        background: #fffbf0;\r\n        border: 1px solid #fbe396;\r\n        border-radius: 4px;\r\n        margin-top: 10px;\r\n        padding: 6px;\r\n        display: flex;\r\n        align-items: center;\r\n  \r\n        div {\r\n          display: inline-block;\r\n          min-width: 53px;\r\n          height: 32px;\r\n          background: #fbe396;\r\n          border-radius: 4px;\r\n          text-align: center;\r\n          line-height: 32px;\r\n          color: #333;\r\n          margin-right: 30px;\r\n          // padding: 12px 6px;\r\n        }\r\n  \r\n        span {\r\n          color: #f2a402;\r\n          line-height: 1.15;\r\n        }\r\n      }\r\n  \r\n      .orderCancel {\r\n        background: #ffffff;\r\n        border: 1px solid #b6b6b6;\r\n  \r\n        div {\r\n          padding: 0 10px;\r\n          background-color: #e5e4e4;\r\n        }\r\n  \r\n        span {\r\n          color: #f56c6c;\r\n        }\r\n      }\r\n    }\r\n  \r\n    .dish-info {\r\n      // min-height: 180px;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      padding: 20px 40px;\r\n      border-bottom: 1px solid #e7e6e6;\r\n  \r\n      .dish-label {\r\n        color: #666;\r\n      }\r\n  \r\n      .dish-list {\r\n        flex: 80%;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n  \r\n        .dish-item {\r\n          flex: 50%;\r\n          margin-bottom: 14px;\r\n          color: #333;\r\n  \r\n          .dish-num {}\r\n  \r\n          .dish-item-box {\r\n            display: inline-block;\r\n            width: 120px;\r\n          }\r\n        }\r\n      }\r\n  \r\n      .dish-label {\r\n        margin-right: 65px;\r\n      }\r\n  \r\n      .dish-all-amount {\r\n        flex: 1;\r\n        padding-left: 92px;\r\n        margin-top: 10px;\r\n  \r\n        label {\r\n          color: #333333;\r\n          font-weight: bold;\r\n          margin-right: 5px;\r\n        }\r\n  \r\n        span {\r\n          color: #f56c6c;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  .order-bottom {\r\n    .amount-info {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      padding: 20px 40px;\r\n      padding-bottom: 0px;\r\n  \r\n      .amount-label {\r\n        color: #666;\r\n        margin-right: 65px;\r\n      }\r\n  \r\n      .user-remark {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        margin-bottom: 20px;\r\n  \r\n        .approver-time {\r\n          display: flex;\r\n          align-items: center;\r\n          margin-right: 20px;\r\n  \r\n          div {\r\n            margin-right: 5px;\r\n          }\r\n  \r\n          span {\r\n            color: #333;\r\n          }\r\n        }\r\n      }\r\n  \r\n      .approval-comment {\r\n        width: 100%;\r\n        background: #fffbf0;\r\n        border: 1px solid #fbe396;\r\n        border-radius: 4px;\r\n        padding: 10px;\r\n        margin-top: 10px;\r\n  \r\n        div {\r\n          display: inline-block;\r\n          margin-right: 10px;\r\n          color: #666;\r\n        }\r\n  \r\n        span {\r\n          color: #333;\r\n          line-height: 1.5;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  </style>\r\n  \r\n  <style lang=\"scss\">\r\n  .dashboard-container {\r\n    .cancelReason {\r\n      padding-left: 40px;\r\n    }\r\n  \r\n    .cancelTime {\r\n      padding-left: 50px;\r\n    }\r\n  \r\n    .orderTime {\r\n      padding-left: 50px;\r\n    }\r\n  \r\n    td.operate .cell {\r\n  \r\n      .before,\r\n      .middle,\r\n      .after {\r\n        height: 39px;\r\n        width: 48px;\r\n      }\r\n    }\r\n  \r\n    td.operate .cell,\r\n    td.otherOperate .cell {\r\n      display: flex;\r\n      flex-wrap: nowrap;\r\n      justify-content: center;\r\n    }\r\n  \r\n    .order-dialog {\r\n      .el-dialog {\r\n        max-height: 764px !important;\r\n        display: flex;\r\n        flex-direction: column;\r\n        margin: 0 !important;\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        max-height: calc(100% - 30px);\r\n        max-width: calc(100% - 30px);\r\n      }\r\n  \r\n      .el-dialog__body {\r\n        height: 520px !important;\r\n      }\r\n    }\r\n  }\r\n  \r\n  .el-dialog__body {\r\n    padding-top: 34px;\r\n    padding-left: 30px;\r\n    padding-right: 30px;\r\n  }\r\n  \r\n  .cancelDialog {\r\n    .el-dialog__body {\r\n      padding-left: 64px;\r\n    }\r\n  \r\n    .el-select,\r\n    .el-textarea {\r\n      width: 293px;\r\n    }\r\n  \r\n    .el-textarea textarea {\r\n      height: 114px;\r\n    }\r\n  }\r\n  \r\n  .el-dialog__footer {\r\n    .el-checkbox {\r\n      float: left;\r\n      margin-left: 40px;\r\n    }\r\n  \r\n    .el-checkbox__label {\r\n      color: #333333 !important;\r\n    }\r\n  }\r\n  \r\n  .empty-box {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  \r\n    img {\r\n      margin-top: 0 !important;\r\n    }\r\n  }\r\n  </style>\r\n  private maintenanceStatus = -1 // 列表字段展示所需任务状态\r\n  private dialogMaintenanceStatus = 0 // 弹窗所需任务状态\r\n  "]}]}