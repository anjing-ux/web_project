{"remainingRequest":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\teamLeader\\deviceReview\\faultClear\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\teamLeader\\deviceReview\\faultClear\\index.vue","mtime":1747303177666},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  private defaultActivity: any = 0\r\n  private orderStatics = {}\r\n  private row = {}\r\n  private equipmentType = ''\r\n  private requestCode = '' //出库申请单号\r\n  private dialogrequestStatus = -2\r\n  private cancelDialogVisible = false\r\n  private cancelReason = ''\r\n  private valueTime = []\r\n  private dialogVisible = false //详情弹窗\r\n  private remark = '' //自定义原因\r\n  private equipmentName = ''\r\n  private status = -1\r\n  private counts: number = 0\r\n  private page: number = 1\r\n  private pageSize: number = 10\r\n  private tableData = []\r\n  private canceloutboundList = [\r\n    {\r\n      label: '重复采购',\r\n      value: '重复采购',\r\n    },\r\n    {\r\n      label: '订单重复',\r\n      value: '订单重复',\r\n    },\r\n    {\r\n      label: '项目取消',\r\n      value: '项目取消',\r\n    },\r\n    {\r\n      label: '订单内容填写错误',\r\n      value: '订单内容填写错误',\r\n    },\r\n    {\r\n      label: '自定义原因',\r\n      value: '自定义原因',\r\n    },\r\n  ]\r\n\r\n  private diaForm = []\r\n  private isSearch: boolean = false\r\n  private outboundStatus = -1 //列表字段展示所需订单状态,用于分页请求数据\r\n  private dialogOutboundStatus = 0 //弹窗所需订单状态，用于详情展示字段\r\n\r\n  private outboundList = [\r\n    {\r\n      label: '全部申请',\r\n      value: -1,\r\n    },\r\n    {\r\n      label: '待审核',\r\n      value: 0,\r\n    },\r\n    {\r\n      label: '待出库',\r\n      value: 1,\r\n    },\r\n    {\r\n      label: '已完成',\r\n      value: 2,\r\n    },\r\n    {\r\n      label: '已驳回',\r\n      value: 3,\r\n    }\r\n  ]\r\n\r\n  created() {\r\n    this.init(Number(this.$route.query.status) || -1)\r\n  }\r\n\r\n  mounted() {\r\n    //如果有值说明是消息通知点击进来的\r\n    /*     if (\r\n          this.$route.query.orderId &&\r\n          this.$route.query.orderId !== 'undefined'\r\n        ) {\r\n          this.goDetail(this.$route.query.orderId, 2)\r\n        }\r\n        if (this.$route.query.status) {\r\n          this.defaultActivity = this.$route.query.status\r\n        } */\r\n    // console.log(this.$route.query, 'this.$route')\r\n  }\r\n\r\n  initFun(outboundStatus) {\r\n    this.page = 1\r\n    this.init(outboundStatus)\r\n  }\r\n\r\n  //管理标签页点击事件\r\n  change(activeIndex) {\r\n    if (activeIndex === this.outboundStatus) return\r\n    this.init(activeIndex)\r\n    this.valueTime = []\r\n    this.dialogOutboundStatus = 0\r\n    this.$router.push('/teamLeader/outbound')\r\n    console.log(activeIndex, '接收到了子组件的index')\r\n  }\r\n\r\n  //获取待处理，待派送，派送中数量\r\n  getOutBoundListBy4Status() {\r\n    getoutboundStatusListBy({})\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          this.orderStatics = res.data.data\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n\r\n  init(activeIndex: number = -1, isSearch?) {\r\n    this.isSearch = isSearch\r\n    const params = {\r\n      page: this.page,\r\n      pageSize: this.pageSize,\r\n      equipmentName: this.equipmentName || undefined,\r\n      equipmentType: this.equipmentType || undefined,\r\n      beginTime:\r\n        this.valueTime && this.valueTime.length > 0\r\n          ? this.valueTime[0]\r\n          : undefined,\r\n      endTime:\r\n        this.valueTime && this.valueTime.length > 0\r\n          ? this.valueTime[1]\r\n          : undefined,\r\n      status: activeIndex === -1 ? undefined : activeIndex,\r\n      // isDeleted:activeIndex === 5 ? 1 : 0\r\n    }\r\n    getWarehouseDetailPage({ ...params })\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          console.log(this.outboundStatus)\r\n          this.tableData = res.data.data.records\r\n          this.outboundStatus = activeIndex\r\n          console.log(activeIndex)\r\n          this.counts = Number(res.data.data.total)\r\n          this.getOutBoundListBy4Status()\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n\r\n  // 添加更改\r\n  private addOutWarehouseRequest(st: any) {\r\n    this.$router.push({ path: '/teamLeader/outbound/add' })\r\n\r\n  }\r\n\r\n  //获取采购状态\r\n  getOutboundType(row: any) {\r\n    if (row.status === 0) {\r\n      return '待审核'\r\n    } else if (row.status === 1) {\r\n      return '待出库'\r\n    } else if (row.status === 2) {\r\n      return '已完成'\r\n    } else if (row.status === 3) {\r\n      return '已驳回'\r\n    } else {\r\n      return '状态错误'\r\n    }\r\n  }\r\n\r\n  //获取设备类型\r\n  getEquimentType(row: any) {\r\n    if (row.equipmentType === 1) {\r\n      return '客服设备'\r\n    } else if (row.equipmentType === 2) {\r\n      return '机电设备'\r\n    } else if (row.equipmentType === 3) {\r\n      return '消防设备'\r\n    } else if (row.equipmentType === 4) {\r\n      return '电梯设备'\r\n    } else {\r\n      return '状态错误'\r\n    }\r\n  }\r\n\r\n\r\n  // 查看详情\r\n  async goDetail(id: any, status: number, row?: any) {\r\n    // console.log(111, index, row)\r\n    this.diaForm = []\r\n    this.dialogVisible = true\r\n    this.dialogOutboundStatus = status\r\n    this.requestCode = id\r\n    console.log(\"查看详情Id\" + id)\r\n    const { data } = await queryOutboundDetailById({ requestCode: id })\r\n    this.diaForm = data.data\r\n    this.row = row || { id: this.$route.query.requestCode, status: status }\r\n    /*     if (this.$route.query.requestCode) {\r\n          this.$router.push('/purchase')\r\n        } */\r\n  }\r\n  cancelOutbound(row: any) {\r\n    this.cancelDialogVisible = true\r\n    this.requestCode = row.requestCode\r\n    this.dialogVisible = false\r\n    this.remark = ''\r\n    this.dialogrequestStatus = row.status\r\n  }\r\n\r\n  //确认取消或拒绝订单并填写原因\r\n  confirmCancel(type) {\r\n    if (!this.remark) {\r\n      return this.$message.error(`请选择取消原因`)\r\n    }\r\n\r\n    ; cancelOutbound({\r\n      requestCode: this.requestCode,\r\n      status: 2,\r\n      // eslint-disable-next-line standard/computed-property-even-spacing\r\n      remark: this.cancelReason\r\n    })\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          this.$message.success('操作成功')\r\n          this.cancelDialogVisible = false\r\n          this.requestCode = ''\r\n          // this.dialogOrderStatus = 0\r\n          this.init(this.status)\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n  handleClose() {\r\n    this.dialogVisible = false\r\n  }\r\n\r\n  private handleSizeChange(val: any) {\r\n    this.pageSize = val\r\n    this.init(this.outboundStatus)\r\n  }\r\n\r\n  private handleCurrentChange(val: any) {\r\n    this.page = val\r\n    // 修改状态变量名\r\n    faultStatus: 0,\r\n    dialogFaultStatus: 0,\r\n    // 添加故障状态列表\r\n    faultStatusList: [\r\n      { label: '待接单', value: 0 },\r\n      { label: '处理中', value: 1 },\r\n      { label: '待销号', value: 2 },\r\n      { label: '已销号', value: 3 },\r\n      { label: '已关闭', value: 4 }\r\n    ],\r\n    // 添加故障等级列表\r\n    faultLevelList: [\r\n      { label: '一般', value: 1 },\r\n      { label: '重要', value: 2 },\r\n      { label: '紧急', value: 3 }\r\n    ],\r\n    // 修改添加方法名\r\n    addFaultReport() {\r\n      // 实现故障报修功能\r\n    },\r\n    // 修改取消方法名\r\n    cancelFault(row) {\r\n      // 实现取消故障报修功能\r\n    },\r\n    // ... existing code ...\r\n    // 修改初始化方法，使用faultStatus替代outboundStatus\r\n    init(status = -1, isSearch = false) {\r\n      this.faultStatus = status\r\n      this.init(activeIndex)\r\n    },\r\n    this.valueTime = []\r\n    this.dialogOutboundStatus = 0\r\n    this.$router.push('/teamLeader/outbound')\r\n    console.log(activeIndex, '接收到了子组件的index')\r\n  }\r\n\r\n  //获取待处理，待派送，派送中数量\r\n  getOutBoundListBy4Status() {\r\n    getoutboundStatusListBy({})\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          this.orderStatics = res.data.data\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n\r\n  init(activeIndex: number = -1, isSearch?) {\r\n    this.isSearch = isSearch\r\n    const params = {\r\n      page: this.page,\r\n      pageSize: this.pageSize,\r\n      equipmentName: this.equipmentName || undefined,\r\n      equipmentType: this.equipmentType || undefined,\r\n      beginTime:\r\n        this.valueTime && this.valueTime.length > 0\r\n          ? this.valueTime[0]\r\n          : undefined,\r\n      endTime:\r\n        this.valueTime && this.valueTime.length > 0\r\n          ? this.valueTime[1]\r\n          : undefined,\r\n      status: activeIndex === -1 ? undefined : activeIndex,\r\n      // isDeleted:activeIndex === 5 ? 1 : 0\r\n    }\r\n    getWarehouseDetailPage({ ...params })\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          console.log(this.outboundStatus)\r\n          this.tableData = res.data.data.records\r\n          this.outboundStatus = activeIndex\r\n          console.log(activeIndex)\r\n          this.counts = Number(res.data.data.total)\r\n          this.getOutBoundListBy4Status()\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n\r\n  // 添加更改\r\n  private addOutWarehouseRequest(st: any) {\r\n    this.$router.push({ path: '/teamLeader/outbound/add' })\r\n\r\n  }\r\n\r\n  //获取采购状态\r\n  getOutboundType(row: any) {\r\n    if (row.status === 0) {\r\n      return '待审核'\r\n    } else if (row.status === 1) {\r\n      return '待出库'\r\n    } else if (row.status === 2) {\r\n      return '已完成'\r\n    } else if (row.status === 3) {\r\n      return '已驳回'\r\n    } else {\r\n      return '状态错误'\r\n    }\r\n  }\r\n\r\n  //获取设备类型\r\n  getEquimentType(row: any) {\r\n    if (row.equipmentType === 1) {\r\n      return '客服设备'\r\n    } else if (row.equipmentType === 2) {\r\n      return '机电设备'\r\n    } else if (row.equipmentType === 3) {\r\n      return '消防设备'\r\n    } else if (row.equipmentType === 4) {\r\n      return '电梯设备'\r\n    } else {\r\n      return '状态错误'\r\n    }\r\n  }\r\n\r\n\r\n  // 查看详情\r\n  async goDetail(id: any, status: number, row?: any) {\r\n    // console.log(111, index, row)\r\n    this.diaForm = []\r\n    this.dialogVisible = true\r\n    this.dialogOutboundStatus = status\r\n    this.requestCode = id\r\n    console.log(\"查看详情Id\" + id)\r\n    const { data } = await queryOutboundDetailById({ requestCode: id })\r\n    this.diaForm = data.data\r\n    this.row = row || { id: this.$route.query.requestCode, status: status }\r\n    /*     if (this.$route.query.requestCode) {\r\n          this.$router.push('/purchase')\r\n        } */\r\n  }\r\n  cancelOutbound(row: any) {\r\n    this.cancelDialogVisible = true\r\n    this.requestCode = row.requestCode\r\n    this.dialogVisible = false\r\n    this.remark = ''\r\n    this.dialogrequestStatus = row.status\r\n  }\r\n\r\n  //确认取消或拒绝订单并填写原因\r\n  confirmCancel(type) {\r\n    if (!this.remark) {\r\n      return this.$message.error(`请选择取消原因`)\r\n    }\r\n\r\n    ; cancelOutbound({\r\n      requestCode: this.requestCode,\r\n      status: 2,\r\n      // eslint-disable-next-line standard/computed-property-even-spacing\r\n      remark: this.cancelReason\r\n    })\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          this.$message.success('操作成功')\r\n          this.cancelDialogVisible = false\r\n          this.requestCode = ''\r\n          // this.dialogOrderStatus = 0\r\n          this.init(this.status)\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n  handleClose() {\r\n    this.dialogVisible = false\r\n  }\r\n\r\n  private handleSizeChange(val: any) {\r\n    this.pageSize = val\r\n    this.init(this.outboundStatus)\r\n  }\r\n\r\n  private handleCurrentChange(val: any) {\r\n    this.page = val\r\n    this.init(this.outboundStatus)\r\n  }\r\n}\r\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAg7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/teamLeader/deviceReview/faultClear","sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <TabChange :order-statics=\"orderStatics\" :default-activity=\"defaultActivity\" @tabChange=\"change\" />\r\n    <div class=\"container\" :class=\"{ hContainer: tableData.length }\">\r\n      <!-- 搜索项 -->\r\n      <div class=\"tableBar\">\r\n        <label style=\"margin-right: 10px\">设备名称：</label>\r\n        <el-input v-model=\"equipmentName\" placeholder=\"请填写设备名称：\" style=\"width: 15%\" clearable\r\n          @clear=\"init(faultStatus)\" @keyup.enter.native=\"initFun(faultStatus)\" />\r\n        <label style=\"margin-right: 10px; margin-left: 20px\">设备类型：</label>\r\n        <el-select v-model=\"equipmentType\" style=\"width: 14%\" placeholder=\"请选择\" clearable @clear=\"init\">\r\n          <el-option label=\"客服设备\" value=\"1\" />\r\n          <el-option label=\"机电设备\" value=\"2\" />\r\n          <el-option label=\"消防设备\" value=\"3\" />\r\n          <el-option label=\"电梯设备\" value=\"4\" />\r\n        </el-select>\r\n        <label style=\"margin-left: 20px\">报修时间：</label>\r\n        <el-date-picker v-model=\"valueTime\" clearable value-format=\"yyyy-MM-dd HH:mm:ss\" range-separator=\"至\"\r\n          :default-time=\"['00:00:00', '23:59:59']\" type=\"daterange\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\"\r\n          style=\"width: 25%; margin-left: 10px\" @clear=\"init(faultStatus)\" />\r\n        <el-button class=\"normal-btn continue\" @click=\"init(faultStatus, true)\">\r\n          查询\r\n        </el-button>\r\n        <el-button type=\"primary\" style=\"margin-left: 120px\" @click=\"addFaultReport\">\r\n          设备故障报修\r\n        </el-button>\r\n      </div>\r\n      <el-table v-if=\"tableData.length\" :data=\"tableData\" stripe class=\"tableBox\">\r\n        <el-table-column key=\"faultCode\" prop=\"faultCode\" label=\"故障编号\" />\r\n        <el-table-column key=\"deviceName\" prop=\"deviceName\" label=\"设备名称\" />\r\n        <el-table-column key=\"deviceCode\" prop=\"deviceCode\" label=\"设备编号\" />\r\n        <el-table-column key=\"faultType\" prop=\"faultType\" label=\"故障类型\">\r\n          <template slot-scope=\"{ row }\">\r\n            <span>{{ getFaultType(row) }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column key=\"faultLevel\" prop=\"faultLevel\" label=\"故障等级\">\r\n          <template slot-scope=\"{ row }\">\r\n            <span>{{ getFaultLevel(row) }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column v-if=\"[-1].includes(faultStatus)\" key=\"status\" prop=\"status\" label=\"状态信息\">\r\n          <template slot-scope=\"{ row }\">\r\n            <span>{{ getFaultStatus(row) }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column key=\"faultDesc\" prop=\"faultDesc\" label=\"故障描述\" show-overflow-tooltip />\r\n        <el-table-column key=\"reportTime\" prop=\"reportTime\" label=\"报修时间\" />\r\n        <el-table-column key=\"reporterName\" prop=\"reporterName\" label=\"报修人姓名\" />\r\n        <el-table-column v-if=\"[1, 2, 3].includes(faultStatus)\" key=\"processorName\" prop=\"processorName\" label=\"处理人姓名\" />\r\n        <el-table-column v-if=\"[1, 2, 3].includes(faultStatus)\" key=\"processTime\" prop=\"processTime\" label=\"接单时间\" />\r\n        <el-table-column v-if=\"[2, 3].includes(faultStatus)\" key=\"completeTime\" prop=\"completeTime\" label=\"完成时间\" />\r\n        <el-table-column v-if=\"[4].includes(faultStatus)\" key=\"closeTime\" prop=\"closeTime\" label=\"关闭时间\" />\r\n        <el-table-column prop=\"btn\" label=\"操作\" align=\"center\"\r\n          :class-name=\"faultStatus === 0 ? 'operate' : 'otherOperate'\" :min-width=\"[-1, 0].includes(faultStatus)\r\n            ? 130\r\n            : [1, 2].includes(faultStatus)\r\n              ? 140\r\n              : 'auto'\r\n            \">\r\n          <template slot-scope=\"{ row }\">\r\n            <div class=\"before\">\r\n              <el-button v-if=\"[0].includes(row.status)\" type=\"text\" class=\"delBut\" @click=\"cancelFault(row)\">\r\n                取消\r\n              </el-button>\r\n            </div>\r\n            <div class=\"after\">\r\n              <el-button type=\"text\" class=\"blueBug non\" @click=\"goDetail(row.faultCode, row.status, row)\">\r\n                查看\r\n              </el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <Empty v-else :is-search=\"isSearch\" />\r\n      <el-pagination v-if=\"counts > 10\" class=\"pageList\" :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\" :total=\"counts\" @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\" />\r\n    </div>\r\n\r\n    <!-- 查看弹框部分 -->\r\n    <el-dialog title=\"故障详细信息\" :visible.sync=\"dialogVisible\" width=\"53%\" :before-close=\"handleClose\"\r\n      class=\"order-dialog\">\r\n      <el-scrollbar style=\"height: 100%\">\r\n        <!-- 顶部信息 -->\r\n        <div class=\"order-top\">\r\n          <div>\r\n            <div style=\"display: inline-block\">\r\n              <label style=\"font-size: 16px\">故障编号：</label>\r\n              <div class=\"order-num\">\r\n                {{ diaForm.faultCode }}\r\n              </div>\r\n            </div>\r\n            <div style=\"display: inline-block\" class=\"order-status\" :class=\"{ status3: true }\">\r\n              {{\r\n                faultStatusList.filter((item) => item.value === dialogFaultStatus)[0].label\r\n              }}\r\n            </div>\r\n          </div>\r\n          <p><label>报修时间：</label>{{ diaForm.reportTime }}</p>\r\n        </div>\r\n\r\n        <!-- 中间信息 -->\r\n        <div class=\"order-middle\">\r\n          <!-- 出库单信息 -->\r\n          <div class=\"dish-label\">出库单信息</div>\r\n          <div class=\"user-info\">\r\n            <div class=\"user-info-box\">\r\n              <div class=\"user-name\">\r\n                <label>申请人姓名：</label>\r\n                <span>{{ diaForm.applicantName }}</span>\r\n              </div>\r\n\r\n              <div class=\"user-name\">\r\n                <label>申请部门：</label>\r\n                <span>{{ diaForm.applicantDepartment }}</span>\r\n              </div>\r\n\r\n              <div class=\"user-phone\">\r\n                <label>申请人电话：</label>\r\n                <span>{{ diaForm.applicantPhone }}</span>\r\n              </div>\r\n\r\n              <div>\r\n                <div class=\"user-getTime\">\r\n                  <label>计划出库日期：</label>\r\n                  <span>{{ diaForm.plannedOutboundDate }}</span>\r\n                </div>\r\n\r\n                <div class=\"user-name\">\r\n                  <label>设备名称：</label>\r\n                  <span>{{ diaForm.equipmentName }}</span>\r\n                </div>\r\n\r\n                <div>\r\n                  <label>出库数量：</label>\r\n                  <span>{{ diaForm.quantity }}</span>\r\n                </div>\r\n\r\n                <div>\r\n                  <label>目标工区：</label>\r\n                  <span>{{ diaForm.targetAreaName }}</span>\r\n                </div>\r\n\r\n                <div>\r\n                  <label>目标班组：</label>\r\n                  <span>{{ diaForm.targetTeamName }}</span>\r\n                </div>\r\n\r\n                <div>\r\n                  <label>目标位置描述：</label>\r\n                  <span>{{ diaForm.targetLocation }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"user-remark\">\r\n              <div>备注：</div>\r\n              <span>{{ diaForm.remark }}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"dish-label\">设备信息</div>\r\n          <!-- 设备信息 -->\r\n          <div class=\"user-info\">\r\n            <div class=\"user-info-box\">\r\n              <div class=\"user-name\">\r\n                <label>设备类型：</label>\r\n                <span>\r\n                  {{ diaForm.equipmentType === 1 ? '客服设备' :\r\n                    diaForm.equipmentType === 2 ? '机电设备' :\r\n                      diaForm.equipmentType === 3 ? '消防设备' :\r\n                        diaForm.equipmentType === 4 ? '电梯设备' : '未知' }}\r\n                </span>\r\n              </div>\r\n\r\n              <div class=\"user-name\">\r\n                <label>设备名称：</label>\r\n                <span>{{ diaForm.equipmentName }}</span>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 底部信息 -->\r\n        <div class=\"order-bottom\">\r\n          <div class=\"amount-label\">审批信息</div>\r\n          <div class=\"amount-info\">\r\n           \r\n\r\n            <div class=\"user-remark\">\r\n              <div class=\"approver-time\">\r\n                <div>审批人：</div>\r\n                <span>{{ diaForm.approverName }}</span>\r\n              </div>\r\n              <div class=\"approver-time\">\r\n                <div>审批时间：</div>\r\n                <span>{{ diaForm.approvalTime }}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"approval-comment\">\r\n              <div>审批意见：</div>\r\n              <span>{{ diaForm.approvalComment }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </el-scrollbar>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button v-if=\"true\" @click=\"dialogVisible = false\">返 回</el-button>\r\n        <el-button v-if=\"[0].includes(dialogOutboundStatus)\" type=\"primary\"\r\n          @click=\"cancelOutbound(row)\">取消采购单</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 拒单，取消弹窗 -->\r\n    <el-dialog title=\"取消原因\" :visible.sync=\"cancelDialogVisible\" width=\"42%\"\r\n      :before-close=\"() => ((cancelDialogVisible = false), (remark = ''))\" class=\"cancelDialog\">\r\n      <el-form label-width=\"90px\">\r\n        <el-form-item label=\"取消原因：\">\r\n          <el-select v-model=\"remark\" :placeholder=\"'请选择取消原因'\">\r\n            <el-option v-for=\"(item, index) in canceloutboundList\" :key=\"index\" :label=\"item.label\"\r\n              :value=\"item.label\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"remark === '自定义原因'\" label=\"原因：\">\r\n          <el-input v-model.trim=\"remark\" type=\"textarea\" :placeholder=\"'请填写您取消的原因（限20字内）'\" maxlength=\"20\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"; (cancelDialogVisible = false), (remark = '')\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"confirmCancel\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport HeadLable from '@/components/HeadLable/index.vue'\r\nimport InputAutoComplete from '@/components/InputAutoComplete/index.vue'\r\nimport TabChange from './tabChange.vue'\r\nimport Empty from '@/components/Empty/index.vue'\r\nimport {\r\n  getWarehouseDetailPage,\r\n  queryOutboundDetailById,\r\n  getoutboundStatusListBy,\r\n  cancelOutbound,\r\n} from '@/api/warehouse'\r\nimport { status } from 'nprogress'\r\n\r\n@Component({\r\n  components: {\r\n    HeadLable,\r\n    InputAutoComplete,\r\n    TabChange,\r\n    Empty,\r\n  },\r\n})\r\nexport default class extends Vue {\r\n  private defaultActivity: any = 0\r\n  private orderStatics = {}\r\n  private row = {}\r\n  private equipmentType = ''\r\n  private requestCode = '' //出库申请单号\r\n  private dialogrequestStatus = -2\r\n  private cancelDialogVisible = false\r\n  private cancelReason = ''\r\n  private valueTime = []\r\n  private dialogVisible = false //详情弹窗\r\n  private remark = '' //自定义原因\r\n  private equipmentName = ''\r\n  private status = -1\r\n  private counts: number = 0\r\n  private page: number = 1\r\n  private pageSize: number = 10\r\n  private tableData = []\r\n  private canceloutboundList = [\r\n    {\r\n      label: '重复采购',\r\n      value: '重复采购',\r\n    },\r\n    {\r\n      label: '订单重复',\r\n      value: '订单重复',\r\n    },\r\n    {\r\n      label: '项目取消',\r\n      value: '项目取消',\r\n    },\r\n    {\r\n      label: '订单内容填写错误',\r\n      value: '订单内容填写错误',\r\n    },\r\n    {\r\n      label: '自定义原因',\r\n      value: '自定义原因',\r\n    },\r\n  ]\r\n\r\n  private diaForm = []\r\n  private isSearch: boolean = false\r\n  private outboundStatus = -1 //列表字段展示所需订单状态,用于分页请求数据\r\n  private dialogOutboundStatus = 0 //弹窗所需订单状态，用于详情展示字段\r\n\r\n  private outboundList = [\r\n    {\r\n      label: '全部申请',\r\n      value: -1,\r\n    },\r\n    {\r\n      label: '待审核',\r\n      value: 0,\r\n    },\r\n    {\r\n      label: '待出库',\r\n      value: 1,\r\n    },\r\n    {\r\n      label: '已完成',\r\n      value: 2,\r\n    },\r\n    {\r\n      label: '已驳回',\r\n      value: 3,\r\n    }\r\n  ]\r\n\r\n  created() {\r\n    this.init(Number(this.$route.query.status) || -1)\r\n  }\r\n\r\n  mounted() {\r\n    //如果有值说明是消息通知点击进来的\r\n    /*     if (\r\n          this.$route.query.orderId &&\r\n          this.$route.query.orderId !== 'undefined'\r\n        ) {\r\n          this.goDetail(this.$route.query.orderId, 2)\r\n        }\r\n        if (this.$route.query.status) {\r\n          this.defaultActivity = this.$route.query.status\r\n        } */\r\n    // console.log(this.$route.query, 'this.$route')\r\n  }\r\n\r\n  initFun(outboundStatus) {\r\n    this.page = 1\r\n    this.init(outboundStatus)\r\n  }\r\n\r\n  //管理标签页点击事件\r\n  change(activeIndex) {\r\n    if (activeIndex === this.outboundStatus) return\r\n    this.init(activeIndex)\r\n    this.valueTime = []\r\n    this.dialogOutboundStatus = 0\r\n    this.$router.push('/teamLeader/outbound')\r\n    console.log(activeIndex, '接收到了子组件的index')\r\n  }\r\n\r\n  //获取待处理，待派送，派送中数量\r\n  getOutBoundListBy4Status() {\r\n    getoutboundStatusListBy({})\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          this.orderStatics = res.data.data\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n\r\n  init(activeIndex: number = -1, isSearch?) {\r\n    this.isSearch = isSearch\r\n    const params = {\r\n      page: this.page,\r\n      pageSize: this.pageSize,\r\n      equipmentName: this.equipmentName || undefined,\r\n      equipmentType: this.equipmentType || undefined,\r\n      beginTime:\r\n        this.valueTime && this.valueTime.length > 0\r\n          ? this.valueTime[0]\r\n          : undefined,\r\n      endTime:\r\n        this.valueTime && this.valueTime.length > 0\r\n          ? this.valueTime[1]\r\n          : undefined,\r\n      status: activeIndex === -1 ? undefined : activeIndex,\r\n      // isDeleted:activeIndex === 5 ? 1 : 0\r\n    }\r\n    getWarehouseDetailPage({ ...params })\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          console.log(this.outboundStatus)\r\n          this.tableData = res.data.data.records\r\n          this.outboundStatus = activeIndex\r\n          console.log(activeIndex)\r\n          this.counts = Number(res.data.data.total)\r\n          this.getOutBoundListBy4Status()\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n\r\n  // 添加更改\r\n  private addOutWarehouseRequest(st: any) {\r\n    this.$router.push({ path: '/teamLeader/outbound/add' })\r\n\r\n  }\r\n\r\n  //获取采购状态\r\n  getOutboundType(row: any) {\r\n    if (row.status === 0) {\r\n      return '待审核'\r\n    } else if (row.status === 1) {\r\n      return '待出库'\r\n    } else if (row.status === 2) {\r\n      return '已完成'\r\n    } else if (row.status === 3) {\r\n      return '已驳回'\r\n    } else {\r\n      return '状态错误'\r\n    }\r\n  }\r\n\r\n  //获取设备类型\r\n  getEquimentType(row: any) {\r\n    if (row.equipmentType === 1) {\r\n      return '客服设备'\r\n    } else if (row.equipmentType === 2) {\r\n      return '机电设备'\r\n    } else if (row.equipmentType === 3) {\r\n      return '消防设备'\r\n    } else if (row.equipmentType === 4) {\r\n      return '电梯设备'\r\n    } else {\r\n      return '状态错误'\r\n    }\r\n  }\r\n\r\n\r\n  // 查看详情\r\n  async goDetail(id: any, status: number, row?: any) {\r\n    // console.log(111, index, row)\r\n    this.diaForm = []\r\n    this.dialogVisible = true\r\n    this.dialogOutboundStatus = status\r\n    this.requestCode = id\r\n    console.log(\"查看详情Id\" + id)\r\n    const { data } = await queryOutboundDetailById({ requestCode: id })\r\n    this.diaForm = data.data\r\n    this.row = row || { id: this.$route.query.requestCode, status: status }\r\n    /*     if (this.$route.query.requestCode) {\r\n          this.$router.push('/purchase')\r\n        } */\r\n  }\r\n  cancelOutbound(row: any) {\r\n    this.cancelDialogVisible = true\r\n    this.requestCode = row.requestCode\r\n    this.dialogVisible = false\r\n    this.remark = ''\r\n    this.dialogrequestStatus = row.status\r\n  }\r\n\r\n  //确认取消或拒绝订单并填写原因\r\n  confirmCancel(type) {\r\n    if (!this.remark) {\r\n      return this.$message.error(`请选择取消原因`)\r\n    }\r\n\r\n    ; cancelOutbound({\r\n      requestCode: this.requestCode,\r\n      status: 2,\r\n      // eslint-disable-next-line standard/computed-property-even-spacing\r\n      remark: this.cancelReason\r\n    })\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          this.$message.success('操作成功')\r\n          this.cancelDialogVisible = false\r\n          this.requestCode = ''\r\n          // this.dialogOrderStatus = 0\r\n          this.init(this.status)\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n  handleClose() {\r\n    this.dialogVisible = false\r\n  }\r\n\r\n  private handleSizeChange(val: any) {\r\n    this.pageSize = val\r\n    this.init(this.outboundStatus)\r\n  }\r\n\r\n  private handleCurrentChange(val: any) {\r\n    this.page = val\r\n    this.init(this.outboundStatus)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dashboard {\r\n  &-container {\r\n    margin: 30px;\r\n    // height: 100%;\r\n    min-height: 700px;\r\n\r\n    .container {\r\n      background: #fff;\r\n      position: relative;\r\n      z-index: 1;\r\n      padding: 30px 28px;\r\n      border-radius: 4px;\r\n      // min-height: 650px;\r\n      height: calc(100% - 55px);\r\n\r\n      .tableBar {\r\n        // display: flex;\r\n        margin-bottom: 20px;\r\n        justify-content: space-between;\r\n\r\n        .tableLab {\r\n          span {\r\n            cursor: pointer;\r\n            display: inline-block;\r\n            font-size: 14px;\r\n            padding: 0 20px;\r\n            color: $gray-2;\r\n            border-right: solid 1px $gray-4;\r\n          }\r\n        }\r\n      }\r\n\r\n      .tableBox {\r\n        width: 100%;\r\n        border: 1px solid $gray-5;\r\n        border-bottom: 0;\r\n      }\r\n\r\n      .pageList {\r\n        text-align: center;\r\n        margin-top: 30px;\r\n      }\r\n\r\n      //查询黑色按钮样式\r\n      .normal-btn {\r\n        background: #333333;\r\n        color: white;\r\n        margin-left: 20px;\r\n      }\r\n    }\r\n\r\n    .hContainer {\r\n      height: auto !important;\r\n    }\r\n  }\r\n}\r\n\r\n.search-btn {\r\n  margin-left: 20px;\r\n}\r\n\r\n.info-box {\r\n  margin: -15px -44px 20px;\r\n\r\n  p {\r\n    display: flex;\r\n    height: 20px;\r\n    line-height: 20px;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    color: #666666;\r\n    text-align: left;\r\n    margin-bottom: 14px;\r\n\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n\r\n    label {\r\n      width: 100px;\r\n      display: inline-block;\r\n      color: #666;\r\n    }\r\n\r\n    .des {\r\n      flex: 1;\r\n      color: #333333;\r\n    }\r\n  }\r\n}\r\n\r\n.order-top {\r\n  // height: 80px;\r\n  border-bottom: 1px solid #e7e6e6;\r\n  padding-bottom: 26px;\r\n  padding-left: 22px;\r\n  padding-right: 22px;\r\n  // margin: 0 30px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  .order-status {\r\n    width: 57.25px;\r\n    height: 27px;\r\n    background: #333333;\r\n    border-radius: 13.5px;\r\n    color: white;\r\n    margin-left: 19px;\r\n    text-align: center;\r\n    line-height: 27px;\r\n  }\r\n\r\n  .status3 {\r\n    background: #f56c6c;\r\n  }\r\n\r\n  p {\r\n    color: #333;\r\n\r\n    label {\r\n      color: #666;\r\n    }\r\n  }\r\n\r\n  .order-num {\r\n    font-size: 16px;\r\n    color: #2a2929;\r\n    font-weight: bold;\r\n    display: inline-block;\r\n  }\r\n}\r\n\r\n.order-middle {\r\n  .user-info {\r\n    min-height: 140px;\r\n    background: #fbfbfa;\r\n    margin-top: 23px;\r\n\r\n    padding: 20px 43px;\r\n    color: #333;\r\n\r\n    .user-info-box {\r\n      min-height: 55px;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n\r\n      .user-name {\r\n        flex: 67%;\r\n      }\r\n\r\n      .user-phone {\r\n        flex: 33%;\r\n      }\r\n\r\n      .user-getTime {\r\n        margin-top: 14px;\r\n        flex: 80%;\r\n\r\n        label {\r\n          margin-right: 3px;\r\n        }\r\n      }\r\n\r\n      label {\r\n        margin-right: 17px;\r\n        color: #666;\r\n      }\r\n\r\n      .user-address {\r\n        margin-top: 14px;\r\n        flex: 80%;\r\n\r\n        label {\r\n          margin-right: 30px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .user-remark {\r\n      min-height: 43px;\r\n      line-height: 43px;\r\n      background: #fffbf0;\r\n      border: 1px solid #fbe396;\r\n      border-radius: 4px;\r\n      margin-top: 10px;\r\n      padding: 6px;\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      div {\r\n        display: inline-block;\r\n        min-width: 53px;\r\n        height: 32px;\r\n        background: #fbe396;\r\n        border-radius: 4px;\r\n        text-align: center;\r\n        line-height: 32px;\r\n        color: #333;\r\n        margin-right: 30px;\r\n        // padding: 12px 6px;\r\n      }\r\n\r\n      span {\r\n        color: #f2a402;\r\n        line-height: 1.15;\r\n      }\r\n    }\r\n\r\n    .orderCancel {\r\n      background: #ffffff;\r\n      border: 1px solid #b6b6b6;\r\n\r\n      div {\r\n        padding: 0 10px;\r\n        background-color: #e5e4e4;\r\n      }\r\n\r\n      span {\r\n        color: #f56c6c;\r\n      }\r\n    }\r\n  }\r\n\r\n  .dish-info {\r\n    // min-height: 180px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    padding: 20px 40px;\r\n    border-bottom: 1px solid #e7e6e6;\r\n\r\n    .dish-label {\r\n      color: #666;\r\n    }\r\n\r\n    .dish-list {\r\n      flex: 80%;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n\r\n      .dish-item {\r\n        flex: 50%;\r\n        margin-bottom: 14px;\r\n        color: #333;\r\n\r\n        .dish-num {}\r\n\r\n        .dish-item-box {\r\n          display: inline-block;\r\n          width: 120px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .dish-label {\r\n      margin-right: 65px;\r\n    }\r\n\r\n    .dish-all-amount {\r\n      flex: 1;\r\n      padding-left: 92px;\r\n      margin-top: 10px;\r\n\r\n      label {\r\n        color: #333333;\r\n        font-weight: bold;\r\n        margin-right: 5px;\r\n      }\r\n\r\n      span {\r\n        color: #f56c6c;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.order-bottom {\r\n  .amount-info {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    padding: 20px 40px;\r\n    padding-bottom: 0px;\r\n\r\n    .amount-label {\r\n      color: #666;\r\n      margin-right: 65px;\r\n    }\r\n\r\n    .user-remark {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      margin-bottom: 20px;\r\n\r\n      .approver-time {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-right: 20px;\r\n\r\n        div {\r\n          margin-right: 5px;\r\n        }\r\n\r\n        span {\r\n          color: #333;\r\n        }\r\n      }\r\n    }\r\n\r\n    .approval-comment {\r\n      width: 100%;\r\n      background: #fffbf0;\r\n      border: 1px solid #fbe396;\r\n      border-radius: 4px;\r\n      padding: 10px;\r\n      margin-top: 10px;\r\n\r\n      div {\r\n        display: inline-block;\r\n        margin-right: 10px;\r\n        color: #666;\r\n      }\r\n\r\n      span {\r\n        color: #333;\r\n        line-height: 1.5;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.dashboard-container {\r\n  .cancelReason {\r\n    padding-left: 40px;\r\n  }\r\n\r\n  .cancelTime {\r\n    padding-left: 50px;\r\n  }\r\n\r\n  .orderTime {\r\n    padding-left: 50px;\r\n  }\r\n\r\n  td.operate .cell {\r\n\r\n    .before,\r\n    .middle,\r\n    .after {\r\n      height: 39px;\r\n      width: 48px;\r\n    }\r\n  }\r\n\r\n  td.operate .cell,\r\n  td.otherOperate .cell {\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    justify-content: center;\r\n  }\r\n\r\n  .order-dialog {\r\n    .el-dialog {\r\n      max-height: 764px !important;\r\n      display: flex;\r\n      flex-direction: column;\r\n      margin: 0 !important;\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      max-height: calc(100% - 30px);\r\n      max-width: calc(100% - 30px);\r\n    }\r\n\r\n    .el-dialog__body {\r\n      height: 520px !important;\r\n    }\r\n  }\r\n}\r\n\r\n.el-dialog__body {\r\n  padding-top: 34px;\r\n  padding-left: 30px;\r\n  padding-right: 30px;\r\n}\r\n\r\n.cancelDialog {\r\n  .el-dialog__body {\r\n    padding-left: 64px;\r\n  }\r\n\r\n  .el-select,\r\n  .el-textarea {\r\n    width: 293px;\r\n  }\r\n\r\n  .el-textarea textarea {\r\n    height: 114px;\r\n  }\r\n}\r\n\r\n.el-dialog__footer {\r\n  .el-checkbox {\r\n    float: left;\r\n    margin-left: 40px;\r\n  }\r\n\r\n  .el-checkbox__label {\r\n    color: #333333 !important;\r\n  }\r\n}\r\n\r\n.empty-box {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  img {\r\n    margin-top: 0 !important;\r\n  }\r\n}\r\n</style>\r\n\r\n<script>\r\nexport default {\r\n  private defaultActivity: any = 0\r\n  private orderStatics = {}\r\n  private row = {}\r\n  private equipmentType = ''\r\n  private requestCode = '' //出库申请单号\r\n  private dialogrequestStatus = -2\r\n  private cancelDialogVisible = false\r\n  private cancelReason = ''\r\n  private valueTime = []\r\n  private dialogVisible = false //详情弹窗\r\n  private remark = '' //自定义原因\r\n  private equipmentName = ''\r\n  private status = -1\r\n  private counts: number = 0\r\n  private page: number = 1\r\n  private pageSize: number = 10\r\n  private tableData = []\r\n  private canceloutboundList = [\r\n    {\r\n      label: '重复采购',\r\n      value: '重复采购',\r\n    },\r\n    {\r\n      label: '订单重复',\r\n      value: '订单重复',\r\n    },\r\n    {\r\n      label: '项目取消',\r\n      value: '项目取消',\r\n    },\r\n    {\r\n      label: '订单内容填写错误',\r\n      value: '订单内容填写错误',\r\n    },\r\n    {\r\n      label: '自定义原因',\r\n      value: '自定义原因',\r\n    },\r\n  ]\r\n\r\n  private diaForm = []\r\n  private isSearch: boolean = false\r\n  private outboundStatus = -1 //列表字段展示所需订单状态,用于分页请求数据\r\n  private dialogOutboundStatus = 0 //弹窗所需订单状态，用于详情展示字段\r\n\r\n  private outboundList = [\r\n    {\r\n      label: '全部申请',\r\n      value: -1,\r\n    },\r\n    {\r\n      label: '待审核',\r\n      value: 0,\r\n    },\r\n    {\r\n      label: '待出库',\r\n      value: 1,\r\n    },\r\n    {\r\n      label: '已完成',\r\n      value: 2,\r\n    },\r\n    {\r\n      label: '已驳回',\r\n      value: 3,\r\n    }\r\n  ]\r\n\r\n  created() {\r\n    this.init(Number(this.$route.query.status) || -1)\r\n  }\r\n\r\n  mounted() {\r\n    //如果有值说明是消息通知点击进来的\r\n    /*     if (\r\n          this.$route.query.orderId &&\r\n          this.$route.query.orderId !== 'undefined'\r\n        ) {\r\n          this.goDetail(this.$route.query.orderId, 2)\r\n        }\r\n        if (this.$route.query.status) {\r\n          this.defaultActivity = this.$route.query.status\r\n        } */\r\n    // console.log(this.$route.query, 'this.$route')\r\n  }\r\n\r\n  initFun(outboundStatus) {\r\n    this.page = 1\r\n    this.init(outboundStatus)\r\n  }\r\n\r\n  //管理标签页点击事件\r\n  change(activeIndex) {\r\n    if (activeIndex === this.outboundStatus) return\r\n    this.init(activeIndex)\r\n    this.valueTime = []\r\n    this.dialogOutboundStatus = 0\r\n    this.$router.push('/teamLeader/outbound')\r\n    console.log(activeIndex, '接收到了子组件的index')\r\n  }\r\n\r\n  //获取待处理，待派送，派送中数量\r\n  getOutBoundListBy4Status() {\r\n    getoutboundStatusListBy({})\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          this.orderStatics = res.data.data\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n\r\n  init(activeIndex: number = -1, isSearch?) {\r\n    this.isSearch = isSearch\r\n    const params = {\r\n      page: this.page,\r\n      pageSize: this.pageSize,\r\n      equipmentName: this.equipmentName || undefined,\r\n      equipmentType: this.equipmentType || undefined,\r\n      beginTime:\r\n        this.valueTime && this.valueTime.length > 0\r\n          ? this.valueTime[0]\r\n          : undefined,\r\n      endTime:\r\n        this.valueTime && this.valueTime.length > 0\r\n          ? this.valueTime[1]\r\n          : undefined,\r\n      status: activeIndex === -1 ? undefined : activeIndex,\r\n      // isDeleted:activeIndex === 5 ? 1 : 0\r\n    }\r\n    getWarehouseDetailPage({ ...params })\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          console.log(this.outboundStatus)\r\n          this.tableData = res.data.data.records\r\n          this.outboundStatus = activeIndex\r\n          console.log(activeIndex)\r\n          this.counts = Number(res.data.data.total)\r\n          this.getOutBoundListBy4Status()\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n\r\n  // 添加更改\r\n  private addOutWarehouseRequest(st: any) {\r\n    this.$router.push({ path: '/teamLeader/outbound/add' })\r\n\r\n  }\r\n\r\n  //获取采购状态\r\n  getOutboundType(row: any) {\r\n    if (row.status === 0) {\r\n      return '待审核'\r\n    } else if (row.status === 1) {\r\n      return '待出库'\r\n    } else if (row.status === 2) {\r\n      return '已完成'\r\n    } else if (row.status === 3) {\r\n      return '已驳回'\r\n    } else {\r\n      return '状态错误'\r\n    }\r\n  }\r\n\r\n  //获取设备类型\r\n  getEquimentType(row: any) {\r\n    if (row.equipmentType === 1) {\r\n      return '客服设备'\r\n    } else if (row.equipmentType === 2) {\r\n      return '机电设备'\r\n    } else if (row.equipmentType === 3) {\r\n      return '消防设备'\r\n    } else if (row.equipmentType === 4) {\r\n      return '电梯设备'\r\n    } else {\r\n      return '状态错误'\r\n    }\r\n  }\r\n\r\n\r\n  // 查看详情\r\n  async goDetail(id: any, status: number, row?: any) {\r\n    // console.log(111, index, row)\r\n    this.diaForm = []\r\n    this.dialogVisible = true\r\n    this.dialogOutboundStatus = status\r\n    this.requestCode = id\r\n    console.log(\"查看详情Id\" + id)\r\n    const { data } = await queryOutboundDetailById({ requestCode: id })\r\n    this.diaForm = data.data\r\n    this.row = row || { id: this.$route.query.requestCode, status: status }\r\n    /*     if (this.$route.query.requestCode) {\r\n          this.$router.push('/purchase')\r\n        } */\r\n  }\r\n  cancelOutbound(row: any) {\r\n    this.cancelDialogVisible = true\r\n    this.requestCode = row.requestCode\r\n    this.dialogVisible = false\r\n    this.remark = ''\r\n    this.dialogrequestStatus = row.status\r\n  }\r\n\r\n  //确认取消或拒绝订单并填写原因\r\n  confirmCancel(type) {\r\n    if (!this.remark) {\r\n      return this.$message.error(`请选择取消原因`)\r\n    }\r\n\r\n    ; cancelOutbound({\r\n      requestCode: this.requestCode,\r\n      status: 2,\r\n      // eslint-disable-next-line standard/computed-property-even-spacing\r\n      remark: this.cancelReason\r\n    })\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          this.$message.success('操作成功')\r\n          this.cancelDialogVisible = false\r\n          this.requestCode = ''\r\n          // this.dialogOrderStatus = 0\r\n          this.init(this.status)\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n  handleClose() {\r\n    this.dialogVisible = false\r\n  }\r\n\r\n  private handleSizeChange(val: any) {\r\n    this.pageSize = val\r\n    this.init(this.outboundStatus)\r\n  }\r\n\r\n  private handleCurrentChange(val: any) {\r\n    this.page = val\r\n    // 修改状态变量名\r\n    faultStatus: 0,\r\n    dialogFaultStatus: 0,\r\n    // 添加故障状态列表\r\n    faultStatusList: [\r\n      { label: '待接单', value: 0 },\r\n      { label: '处理中', value: 1 },\r\n      { label: '待销号', value: 2 },\r\n      { label: '已销号', value: 3 },\r\n      { label: '已关闭', value: 4 }\r\n    ],\r\n    // 添加故障等级列表\r\n    faultLevelList: [\r\n      { label: '一般', value: 1 },\r\n      { label: '重要', value: 2 },\r\n      { label: '紧急', value: 3 }\r\n    ],\r\n    // 修改添加方法名\r\n    addFaultReport() {\r\n      // 实现故障报修功能\r\n    },\r\n    // 修改取消方法名\r\n    cancelFault(row) {\r\n      // 实现取消故障报修功能\r\n    },\r\n    // ... existing code ...\r\n    // 修改初始化方法，使用faultStatus替代outboundStatus\r\n    init(status = -1, isSearch = false) {\r\n      this.faultStatus = status\r\n      this.init(activeIndex)\r\n    },\r\n    this.valueTime = []\r\n    this.dialogOutboundStatus = 0\r\n    this.$router.push('/teamLeader/outbound')\r\n    console.log(activeIndex, '接收到了子组件的index')\r\n  }\r\n\r\n  //获取待处理，待派送，派送中数量\r\n  getOutBoundListBy4Status() {\r\n    getoutboundStatusListBy({})\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          this.orderStatics = res.data.data\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n\r\n  init(activeIndex: number = -1, isSearch?) {\r\n    this.isSearch = isSearch\r\n    const params = {\r\n      page: this.page,\r\n      pageSize: this.pageSize,\r\n      equipmentName: this.equipmentName || undefined,\r\n      equipmentType: this.equipmentType || undefined,\r\n      beginTime:\r\n        this.valueTime && this.valueTime.length > 0\r\n          ? this.valueTime[0]\r\n          : undefined,\r\n      endTime:\r\n        this.valueTime && this.valueTime.length > 0\r\n          ? this.valueTime[1]\r\n          : undefined,\r\n      status: activeIndex === -1 ? undefined : activeIndex,\r\n      // isDeleted:activeIndex === 5 ? 1 : 0\r\n    }\r\n    getWarehouseDetailPage({ ...params })\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          console.log(this.outboundStatus)\r\n          this.tableData = res.data.data.records\r\n          this.outboundStatus = activeIndex\r\n          console.log(activeIndex)\r\n          this.counts = Number(res.data.data.total)\r\n          this.getOutBoundListBy4Status()\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n\r\n  // 添加更改\r\n  private addOutWarehouseRequest(st: any) {\r\n    this.$router.push({ path: '/teamLeader/outbound/add' })\r\n\r\n  }\r\n\r\n  //获取采购状态\r\n  getOutboundType(row: any) {\r\n    if (row.status === 0) {\r\n      return '待审核'\r\n    } else if (row.status === 1) {\r\n      return '待出库'\r\n    } else if (row.status === 2) {\r\n      return '已完成'\r\n    } else if (row.status === 3) {\r\n      return '已驳回'\r\n    } else {\r\n      return '状态错误'\r\n    }\r\n  }\r\n\r\n  //获取设备类型\r\n  getEquimentType(row: any) {\r\n    if (row.equipmentType === 1) {\r\n      return '客服设备'\r\n    } else if (row.equipmentType === 2) {\r\n      return '机电设备'\r\n    } else if (row.equipmentType === 3) {\r\n      return '消防设备'\r\n    } else if (row.equipmentType === 4) {\r\n      return '电梯设备'\r\n    } else {\r\n      return '状态错误'\r\n    }\r\n  }\r\n\r\n\r\n  // 查看详情\r\n  async goDetail(id: any, status: number, row?: any) {\r\n    // console.log(111, index, row)\r\n    this.diaForm = []\r\n    this.dialogVisible = true\r\n    this.dialogOutboundStatus = status\r\n    this.requestCode = id\r\n    console.log(\"查看详情Id\" + id)\r\n    const { data } = await queryOutboundDetailById({ requestCode: id })\r\n    this.diaForm = data.data\r\n    this.row = row || { id: this.$route.query.requestCode, status: status }\r\n    /*     if (this.$route.query.requestCode) {\r\n          this.$router.push('/purchase')\r\n        } */\r\n  }\r\n  cancelOutbound(row: any) {\r\n    this.cancelDialogVisible = true\r\n    this.requestCode = row.requestCode\r\n    this.dialogVisible = false\r\n    this.remark = ''\r\n    this.dialogrequestStatus = row.status\r\n  }\r\n\r\n  //确认取消或拒绝订单并填写原因\r\n  confirmCancel(type) {\r\n    if (!this.remark) {\r\n      return this.$message.error(`请选择取消原因`)\r\n    }\r\n\r\n    ; cancelOutbound({\r\n      requestCode: this.requestCode,\r\n      status: 2,\r\n      // eslint-disable-next-line standard/computed-property-even-spacing\r\n      remark: this.cancelReason\r\n    })\r\n      .then((res) => {\r\n        if (res.data.code === 1) {\r\n          this.$message.success('操作成功')\r\n          this.cancelDialogVisible = false\r\n          this.requestCode = ''\r\n          // this.dialogOrderStatus = 0\r\n          this.init(this.status)\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n  handleClose() {\r\n    this.dialogVisible = false\r\n  }\r\n\r\n  private handleSizeChange(val: any) {\r\n    this.pageSize = val\r\n    this.init(this.outboundStatus)\r\n  }\r\n\r\n  private handleCurrentChange(val: any) {\r\n    this.page = val\r\n    this.init(this.outboundStatus)\r\n  }\r\n}\r\n</script>\r\n"]}]}