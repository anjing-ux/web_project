{"remainingRequest":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\purchasingOffer\\purchase\\index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\purchasingOffer\\purchase\\index.vue","mtime":1748964117305},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\nimport HeadLable from '@/components/HeadLable/index.vue'\nimport InputAutoComplete from '@/components/InputAutoComplete/index.vue'\nimport TabChange from './tabChange.vue'\nimport Empty from '@/components/Empty/index.vue'\nimport {\n  getOrderDetailPage,\n  queryPurchaseDetailById,\n  purchaseCancel,\n  auditPurchase,\n  getPurchaseListBy,\n  receivePurchase,\n  exportCompletedPurchases\n} from '@/api/purchase'\nimport { status } from 'nprogress'\n\n@Component({\n  components: {\n    HeadLable,\n    InputAutoComplete,\n    TabChange,\n    Empty,\n  },\n})\nexport default class extends Vue {\n  private defaultActivity: any = 0\n  private orderStatics = {}\n  private row = {}\n\n  private equipmentType = ''\n  private purchaseId = '' //采购单号\n  private valueTime = []\n  private dialogVisible = false //详情弹窗\n  private cancelDialogTitle = '取消' //默认取消\n  private cancelReason = ''\n  private refuseReason = ''\n  private remark = '' //自定义原因\n  private equipmentName = ''\n  private counts: number = 0\n  private page: number = 1\n  private pageSize: number = 10\n  private tableData = []\n\n\n  private diaForm = []\n  private isSearch: boolean = false\n  private purchaseStatus = -1 //列表字段展示所需订单状态,用于分页请求数据\n  private dialogPurchaseStatus = 0 //弹窗所需订单状态，用于详情展示字段\n\n  private purchaseList = [\n    {\n      label: '全部采购单',\n      value: -1,\n    },\n    {\n      label: '待接收',\n      value: 0,\n    },\n    {\n      label: '进行中',\n      value: 1,\n    },\n    {\n      label: '待审核',\n      value: 2,\n    },\n    {\n      label: '待采购',\n      value: 3,\n    },\n    {\n      label: '已完成',\n      value: 4,\n    },\n    {\n      label: '已驳回',\n      value: 5,\n    },\n    {\n      label: '已取消',\n      value: 6,\n    },\n  ]\n\n  created() {\n    this.init(Number(this.$route.query.status) || -1)\n  }\n\n  mounted() {\n    //如果有值说明是消息通知点击进来的\n    if (\n      this.$route.query.orderId &&\n      this.$route.query.orderId !== 'undefined'\n    ) {\n      this.goDetail(this.$route.query.orderId, 2)\n    }\n    if (this.$route.query.status) {\n      this.defaultActivity = this.$route.query.status\n    }\n    // console.log(this.$route.query, 'this.$route')\n  }\n\n  initFun(purchaseStatus) {\n    this.page = 1\n    this.init(purchaseStatus)\n  }\n\n  //管理标签页点击事件\n  change(activeIndex) {\n    if (activeIndex === this.purchaseStatus) return\n    this.init(activeIndex)\n    this.valueTime = []\n    this.dialogPurchaseStatus = 0\n    this.$router.push('/purchasingOffer/purchase')\n    console.log(activeIndex, '接收到了子组件的index')\n  }\n\n  //获取待处理，待派送，派送中数量\n  getOrderListBy4Status() {\n    getPurchaseListBy({})\n      .then((res) => {\n        if (res.data.code === 1) {\n          this.orderStatics = res.data.data\n        } else {\n          this.$message.error(res.data.msg)\n        }\n      })\n      .catch((err) => {\n        this.$message.error('请求出错了：' + err.message)\n      })\n  }\n\n  init(activeIndex: number = -1, isSearch?) {\n    this.isSearch = isSearch\n    const params = {\n      page: this.page,\n      pageSize: this.pageSize,\n      equipmentName: this.equipmentName || undefined,\n      equipmentType: this.equipmentType || undefined,\n      beginTime:\n        this.valueTime && this.valueTime.length > 0\n          ? this.valueTime[0]\n          : undefined,\n      endTime:\n        this.valueTime && this.valueTime.length > 0\n          ? this.valueTime[1]\n          : undefined,\n      status: activeIndex === -1 ? undefined : activeIndex,\n      // isDeleted:activeIndex === 5 ? 1 : 0\n    }\n    getOrderDetailPage({ ...params })\n      .then((res) => {\n        if (res.data.code === 1) {\n          console.log(this.purchaseStatus)\n          this.tableData = res.data.data.records\n          this.purchaseStatus = activeIndex\n          console.log(activeIndex)\n          this.counts = Number(res.data.data.total)\n          this.getOrderListBy4Status()\n          //处理下一条操作\n          /* if (\n            this.dialogOrderStatus === 2 &&\n            this.purchaseStatus === 2 &&\n//           this.isAutoNext &&\n//           !this.isTableOperateBtn &&\n            res.data.data.records.length > 1\n          ) {\n            const row = res.data.data.records[0]\n            this.goDetail(row.id, row.status, row)\n          } else {\n            return null\n          } */\n        } else {\n          this.$message.error(res.data.msg)\n        }\n      })\n      .catch((err) => {\n        this.$message.error('请求出错了：' + err.message)\n      })\n  }\n\n  // 添加更改\n  private goToDeliver(st: any) {\n    this.$router.push({ path: '/purchasingOffer/purchase/add', query: { purchaseId: st.purchaseId, status: st.status } })\n  }\n\n  //获取采购状态\n  getPurchaseType(row: any) {\n    if (row.status === 0) {\n      return '待接收'\n    } else if (row.status === 1) {\n      return '进行中'\n    } else if (row.status === 2) {\n      return '待审核'\n    } else if (row.status === 3) {\n      return '待采购'\n    } else if (row.status === 4) {\n      return '已完成'\n    } else if (row.status === 5) {\n      return '已取消'\n    } else {\n      return '状态错误'\n    }\n  }\n\n  //获取设备类型\n  getEquimentType(row: any) {\n    if (row.equipmentType === 1) {\n      return '客服设备'\n    } else if (row.equipmentType === 2) {\n      return '机电设备'\n    } else if (row.equipmentType === 3) {\n      return '消防设备'\n    } else if (row.equipmentType === 4) {\n      return '电梯设备'\n    } else {\n      return '状态错误'\n    }\n  }\n\n\n  // 查看详情\n  async goDetail(id: any, status: number, row?: any) {\n    // console.log(111, index, row)\n    this.diaForm = []\n    this.dialogVisible = true\n    this.dialogPurchaseStatus = status\n    this.purchaseId = id\n    console.log(\"查看详情Id\" + id)\n    const { data } = await queryPurchaseDetailById({ purchaseId: id })\n    this.diaForm = data.data\n    this.row = row || { id: this.$route.query.purchaseId, status: status }\n    if (this.$route.query.purchaseId) {\n      this.$router.push('/purchase')\n    }\n  }\n\n // 接收任务\nreceivePurchase(row: any) {\n  this.purchaseId = row.purchaseId;\n  this.dialogPurchaseStatus = row.status;\n\n  // 弹出确认接收的弹框\n  this.$confirm(\"确定要接收此采购单吗？\", \"确认操作\", {\n    confirmButtonText: \"确定\",\n    cancelButtonText: \"取消\",\n    type: \"warning\"\n  })\n  .then(() => {\n    // 用户点击确定后执行接收操作\n    receivePurchase({\n      purchaseId: this.purchaseId,\n      status: row.status,\n    })\n    .then((res) => {\n      if (res.data.code === 1) {\n        this.$message.success(\"接收成功！\");\n        this.purchaseId = '';\n        this.dialogVisible = false;\n        this.init(this.purchaseStatus);\n      } else {\n        this.$message.error(res.data.msg);\n      }\n    })\n    .catch((err) => {\n      this.$message.error('请求出错了：' + err.message);\n    });\n  })\n  .catch(() => {\n    // 用户点击取消或关闭弹框\n    this.$message.info(\"已取消接收操作\");\n  });\n}\n\n  //审核不通过\n  refusePurchase(row: any) {\n    //this.cancelDialogVisible = true\n    this.purchaseId = row.purchaseId\n    this.dialogPurchaseStatus = row.status\n    this.dialogVisible = false\n    this.cancelDialogTitle = '审核不通过'\n    this.refuseReason = ''\n   \n  }\n\n  // 导出Excel\n  exportExcel() {\n    this.$message.info('正在导出，请稍候...')\n    \n    // 构建查询参数，与当前列表筛选条件保持一致\n    const params = {\n      equipmentName: this.equipmentName || undefined,\n      equipmentType: this.equipmentType || undefined,\n      beginTime: this.valueTime && this.valueTime.length > 0 ? this.valueTime[0] : undefined,\n      endTime: this.valueTime && this.valueTime.length > 0 ? this.valueTime[1] : undefined,\n    }\n    \n    exportCompletedPurchases(params)\n      .then(response => {\n        // 获取文件名\n        const disposition = response.headers['content-disposition']\n        let fileName = '已完成采购单.xlsx'\n        if (disposition) {\n          const filenameRegex = /filename[^;=\\n]*=((['\"']).*?\\2|[^;\\n]*)/\n          const matches = filenameRegex.exec(disposition)\n          if (matches != null && matches[1]) {\n            fileName = decodeURIComponent(matches[1].replace(/['\"']*/g, ''))\n          }\n        }\n        \n        // 创建Blob对象\n        const blob = new Blob([response.data], { \n          type: 'application/vnd.ms-excel' \n        })\n        \n        // 创建下载链接\n        const link = document.createElement('a')\n        \n        // 创建下载URL\n        link.href = URL.createObjectURL(blob)\n        link.download = fileName\n        \n        // 触发点击下载\n        document.body.appendChild(link)\n        link.click()\n        \n        // 清理\n        document.body.removeChild(link)\n        URL.revokeObjectURL(link.href)\n        \n        this.$message.success('导出成功')\n      })\n      .catch(error => {\n        this.$message.error('导出失败：' + error.message)\n      })\n  }\n\n  //打开取消订单弹窗\n  cancelPurchase(row: any) {\n    //this.cancelDialogVisible = true\n    this.purchaseId = row.purchaseId\n    this.dialogVisible = false\n    this.cancelReason = ''\n    this.cancelDialogTitle = '取消'\n    this.dialogPurchaseStatus = row.status\n  }\n\n\n  //确认取消或拒绝订单并填写原因\n  confirmCancel(type) {\n    if (!this.cancelReason&&!this.refuseReason) {\n      return this.$message.error(`请选择${this.cancelDialogTitle}原因`)\n    } \n\n    ;(this.cancelDialogTitle === '取消' ? purchaseCancel : auditPurchase)({\n      purchaseId: this.purchaseId,\n      status:this.cancelDialogTitle === '取消' ? 6 : 5,\n      // eslint-disable-next-line standard/computed-property-even-spacing\n      [this.cancelDialogTitle === '取消' ? 'cancelReason' : 'refuseReason']: \n      this.cancelDialogTitle === '取消' ? this.cancelReason : this.refuseReason\n    })\n      .then((res) => {\n        if (res.data.code === 1) {\n          this.$message.success('操作成功')\n          //this.cancelDialogVisible = false\n          this.purchaseId = ''\n          // this.dialogOrderStatus = 0\n          this.init(this.purchaseStatus)\n        } else {\n          this.$message.error(res.data.msg)\n        }\n      })\n      .catch((err) => {\n        this.$message.error('请求出错了：' + err.message)\n      })\n  }\n\n  handleClose() {\n    this.dialogVisible = false\n  }\n\n  private handleSizeChange(val: any) {\n    this.pageSize = val\n    this.init(this.purchaseStatus)\n  }\n\n  private handleCurrentChange(val: any) {\n    this.page = val\n    this.init(this.purchaseStatus)\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/purchasingOffer/purchase","sourcesContent":["<template>\n  <div class=\"dashboard-container\">\n    <TabChange :order-statics=\"orderStatics\" :default-activity=\"defaultActivity\" @tabChange=\"change\" />\n    <div class=\"container\" :class=\"{ hContainer: tableData.length }\">\n      <!-- 搜索项 -->\n      <div class=\"tableBar\">\n        <label style=\"margin-right: 10px\">设备名称：</label>\n        <el-input v-model=\"equipmentName\" placeholder=\"请填写设备名称：\" style=\"width: 15%\" clearable\n          @clear=\"init(purchaseStatus)\" @keyup.enter.native=\"initFun(purchaseStatus)\" />\n        <label style=\"margin-right: 10px; margin-left: 20px\">设备类型：</label>\n        <el-select v-model=\"equipmentType\" style=\"width: 14%\" placeholder=\"请选择\" clearable @clear=\"init\">\n          <el-option label=\"客服设备\" value=\"1\" />\n          <el-option label=\"机电设备\" value=\"2\" />\n          <el-option label=\"消防设备\" value=\"3\" />\n          <el-option label=\"电梯设备\" value=\"4\" />\n        </el-select>\n        <label style=\"margin-left: 20px\">创建时间：</label>\n        <el-date-picker v-model=\"valueTime\" clearable value-format=\"yyyy-MM-dd HH:mm:ss\" range-separator=\"至\"\n          :default-time=\"['00:00:00', '23:59:59']\" type=\"daterange\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\"\n          style=\"width: 25%; margin-left: 10px\" @clear=\"init(purchaseStatus)\" />\n        <el-button class=\"normal-btn continue\" @click=\"init(purchaseStatus, true)\">\n          查询\n        </el-button>\n        <el-button v-if=\"[4].includes(purchaseStatus)\" class=\"normal-btn continue\" style=\"margin-left: 10px\" @click=\"exportExcel\">\n          批量导出Excel\n        </el-button>\n      </div>\n      <el-table v-if=\"tableData.length\" :data=\"tableData\" stripe class=\"tableBox\">\n        <el-table-column key=\"purchaseId\" prop=\"purchaseId\" label=\"采购ID\" />\n        <el-table-column key=\"equipmentName\" prop=\"equipmentName\" label=\"设备名称\" />\n        <el-table-column v-if=\"[-1].includes(purchaseStatus)\" key=\"status\" prop=\"status\" label=\"采购状态\">\n          <template slot-scope=\"{ row }\">\n            <span>{{ getPurchaseType(row) }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column key=\"quantity\" prop=\"quantity\" label=\"采购数量\" show-overflow-tooltip />\n        <el-table-column key=\"equipmentType\" prop=\"设备类型\" label=\"设备类型\">\n          <template slot-scope=\"{ row }\">\n            <span>{{ getEquimentType(row) }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column key=\"createTime\" prop=\"createTime\" label=\"创建时间\" />\n        <el-table-column key=\"createBy\" prop=\"createBy\" label=\"创建人\"\n          :class-name=\"purchaseStatus === 6 ? 'address' : ''\" />\n        <el-table-column v-if=\"[2, 3].includes(purchaseStatus)\" key=\"expectedLife\" prop=\"expectedLife\" label=\"预期使用寿命(月)\"\n          class-name=\"orderTime\" min-width=\"110\" />\n        <el-table-column v-if=\"[2, 3].includes(purchaseStatus)\" key=\"purchaseAmount\" prop=\"purchaseAmount\"\n          class-name=\"cancelTime\" label=\"采购金额\" min-width=\"110\" />\n        <el-table-column v-if=\"[4].includes(purchaseStatus)\" key=\"remark\" prop=\"remark\" label=\"备注\"\n          class-name=\"cancelReason\" :min-width=\"[4].includes(purchaseStatus) ? 80 : 'auto'\" />\n        <el-table-column v-if=\"[4].includes(purchaseStatus)\" key=\"deliveryDate\" prop=\"deliveryDate\" label=\"交付日期\" />\n        <el-table-column v-if=\"[5].includes(purchaseStatus)\" key=\"remark\" prop=\"refuseReason\" label=\"驳回原因\"\n          class-name=\"cancelReason\" :min-width=\"[5].includes(purchaseStatus) ? 80 : 'auto'\" />\n          <el-table-column v-if=\"[6].includes(purchaseStatus)\" key=\"remark\" prop=\"cancelReason\" label=\"取消原因\"\n          class-name=\"cancelReason\" :min-width=\"[5].includes(purchaseStatus) ? 80 : 'auto'\" />\n        <el-table-column prop=\"btn\" label=\"操作\" align=\"center\"\n          class-name=\"otherOperate\" :min-width=\"[-1, 0].includes(purchaseStatus)\n            ? 130\n            : [1, 2].includes(purchaseStatus)\n              ? 140\n              : 'auto'\n            \">\n          <template slot-scope=\"{ row }\">\n            <!-- <el-divider direction=\"vertical\" /> -->\n            <div class=\"before\">\n              <el-button v-if=\"[-1, 0].includes(row.status)\" type=\"text\" class=\"delBut\" @click=\"receivePurchase(row)\">\n                接收\n              </el-button>\n            </div>\n            <div class=\"middle\">\n              <el-button type=\"text\" class=\"blueBug non\" @click=\"goDetail(row.purchaseId, row.status, row)\">\n                查看\n              </el-button>\n            </div>\n            <div class=\"after\">\n              <el-button v-if=\"[3].includes(row.status)\" type=\"text\" class=\"delBut\"\n                @click=\"goDetail(row.purchaseId, row.status, row)\">\n                完成\n              </el-button>\n              <el-button v-if=\"[1].includes(row.status)\" type=\"text\" class=\"delBut\" @click=\"goToDeliver(row)\">\n                去提交\n              </el-button>\n            </div>\n          </template>\n        </el-table-column>\n      </el-table>\n      <Empty v-else :is-search=\"isSearch\" />\n      <el-pagination v-if=\"counts > 10\" class=\"pageList\" :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\" :total=\"counts\" @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\" />\n    </div>\n\n    <!-- 查看弹框部分 -->\n    <el-dialog title=\"采购单信息\" :visible.sync=\"dialogVisible\" width=\"53%\" :before-close=\"handleClose\" class=\"order-dialog\">\n      <el-scrollbar style=\"height: 100%\">\n        <div class=\"order-top\">\n          <div>\n            <div style=\"display: inline-block\">\n              <label style=\"font-size: 16px\">采购ID：</label>\n              <div class=\"order-num\">\n                {{ diaForm.purchaseId }}\n              </div>\n            </div>\n            <div style=\"display: inline-block\" class=\"order-status\" :class=\"{ status3: true }\">\n              {{\n                purchaseList.filter((item) => item.value === dialogPurchaseStatus)[0]\n                  .label\n              }}\n            </div>\n          </div>\n          <p><label>创建时间：</label>{{ diaForm.createTime }}</p>\n        </div>\n\n        <div class=\"order-middle\">\n          <div class=\"dish-label\">采购单基本信息</div>\n          <div class=\"user-info\">\n            <div class=\"user-info-box\">\n              <div class=\"user-name\">\n                <label>创建人：</label>\n                <span>{{ diaForm.createBy }}</span>\n              </div>\n\n              <div class=\"user-name\">\n                <label>更新人：</label>\n                <span>{{ diaForm.updateBy }}</span>\n              </div>\n              <div class=\"user-phone\">\n                <label>创建时间</label>\n                <span>{{ diaForm.createTime }}</span>\n              </div>\n              <div v-if=\"[2, 3, 4, 5, 6].includes(dialogPurchaseStatus)\">\n                <div class=\"user-getTime\">\n                  <label>采购日期:</label>\n                  <span>{{ diaForm.purchaseDate }}</span>\n                </div>\n\n                <div class=\"dish-all-amount\">\n                  <label>采购金额</label>\n                  <span>￥{{ diaForm.purchaseAmount }}</span>\n                </div>\n\n                <div>\n                  <label>采购数量:</label>\n                  <span>{{ diaForm.quantity }}</span>\n                </div>\n\n                <div>\n                  <label>采购单据编号:</label>\n                  <span>{{ diaForm.purchaseDocumentNo }}</span>\n                </div>\n\n                <div>\n                  <label>合同编号:</label>\n                  <span>{{ diaForm.contractNo }}</span>\n                </div>\n\n                <div>\n                  <label>采购负责人:</label>\n                  <span>{{ diaForm.purchasePerson }}</span>\n                </div>\n\n                <div>\n                  <label>采购设备图像:</label>\n                  <img v-if=\"diaForm.image\" :src=\"diaForm.image\" alt=\"采购设备图像\" style=\"width: 100px; height: 100px;\">\n                  <span v-else>无图像</span>\n                </div>\n\n                <div>\n                  <label>交付日期:</label>\n                  <span>{{ diaForm.deliveryDate }}</span>\n                </div>\n\n                <div>\n                  <label>验收日期:</label>\n                  <span>{{ diaForm.acceptanceDate }}</span>\n                </div>\n\n                <div>\n                  <label>验收结果:</label>\n                  <span>\n                    {{ diaForm.acceptanceResult === 1 ? '合格' :\n                      diaForm.acceptanceResult === 2 ? '不合格' :\n                        diaForm.acceptanceResult === 3 ? '部分合格' : '未知' }}\n                  </span>\n                </div>\n\n\n              </div>\n\n              <!--  <div class=\"user-address\">\n                <label>地址：</label>\n                <span>{{ diaForm.address }}</span>\n              </div> -->\n            </div>\n\n\n            <div class=\"user-remark\">\n              <div>验收备注</div>\n              <span>{{ diaForm.acceptanceNotes }}</span>\n            </div>\n\n          </div>\n\n          <div class=\"dish-info\">\n            <div class=\"dish-label\">采购设备信息</div>\n            <div class=\"user-info-box\">\n              <div>\n                <label>设备类型:</label>\n                <span>\n                  {{ diaForm.equipmentType === 1 ? '客服设备' :\n                    diaForm.equipmentType === 2 ? '机电设备' :\n                      diaForm.equipmentType === 3 ? '消防设备' :\n                        diaForm.equipmentType === 4 ? '电梯设备' : '未知' }}\n                </span>\n              </div>\n\n              <div>\n                <label>设备名称:</label>\n                <span>{{ diaForm.equipmentName }}</span>\n              </div>\n\n              <div>\n                <label>型号:</label>\n                <span>{{ diaForm.modelNumber }}</span>\n              </div>\n\n              <div>\n                <label>规格参数:</label>\n                <span>{{ diaForm.specification }}</span>\n              </div>\n\n              <div>\n                <label>生产厂家:</label>\n                <span>{{ diaForm.manufacturer }}</span>\n              </div>\n\n              <div>\n                <label>供应商:</label>\n                <span>{{ diaForm.supplier }}</span>\n              </div>\n\n              <div>\n                <label>单位:</label>\n                <span>{{ diaForm.unit }}</span>\n              </div>\n\n              <div>\n                <label>保修期(月):</label>\n                <span>{{ diaForm.warrantyPeriod }}</span>\n              </div>\n\n              <div>\n                <label>预期使用寿命(月):</label>\n                <span>{{ diaForm.expectedLife }}</span>\n              </div>\n\n            </div>\n\n          </div>\n        </div>\n\n        <div class=\"order-bottom\">\n          <div class=\"amount-info\">\n            <div class=\"amount-label\">备注消息信息</div>\n            <!-- <div class=\"amount-list\">\n            </div> -->\n            <div class=\"user-remark\" :class=\"{ orderCancel: true }\">\n              <div>备注：</div>\n              <span>{{ diaForm.remark }}</span>\n            </div>\n            <div v-if=\"[5].includes(dialogPurchaseStatus)\" class=\"orderCancel\">\n              <div>取消原因：</div>\n              <span>{{ diaForm.cancelReason }}</span>\n            </div>\n            <div v-if=\"[6].includes(dialogPurchaseStatus)\" class=\"orderCancel\">\n              <div>审核拒绝原因：</div>\n              <span>{{ diaForm.refuseReason }}</span>\n            </div>\n            <div v-if=\"diaForm.cancelReason\" class=\"orderCancel\">\n              <div>催促通知:</div>\n              <span>{{ diaForm.cancelReason }}</span>\n            </div>\n\n          </div>\n\n        </div>\n      </el-scrollbar>\n      <span v-if=\"dialogPurchaseStatus !== 6\" slot=\"footer\" class=\"dialog-footer\">\n        <!--  <el-checkbox v-if=\"dialogPurchaseStatus === 2 && purchaseStatus === 2\" v-model=\"isAutoNext\">处理完自动跳转下一条</el-checkbox> -->\n        <el-button v-if=\"dialogPurchaseStatus === 3\" type=\"primary\"\n          @click=\"goToDeliver(row)/* , (isTableOperateBtn = false) */\">去交付</el-button>\n        <el-button v-if=\"dialogPurchaseStatus === 0\" type=\"primary\"\n          @click=\"receivePurchase(row)/* , (isTableOperateBtn = false) */\">接收采购任务</el-button>\n          <el-button v-if=\"dialogPurchaseStatus === 1\" type=\"primary\"\n          @click=\"goToDeliver(row)/* , (isTableOperateBtn = false) */\">提交采购任务</el-button>\n\n\n        <el-button v-if=\"true\" @click=\"dialogVisible = false\">返 回</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from 'vue-property-decorator'\nimport HeadLable from '@/components/HeadLable/index.vue'\nimport InputAutoComplete from '@/components/InputAutoComplete/index.vue'\nimport TabChange from './tabChange.vue'\nimport Empty from '@/components/Empty/index.vue'\nimport {\n  getOrderDetailPage,\n  queryPurchaseDetailById,\n  purchaseCancel,\n  auditPurchase,\n  getPurchaseListBy,\n  receivePurchase,\n  exportCompletedPurchases\n} from '@/api/purchase'\nimport { status } from 'nprogress'\n\n@Component({\n  components: {\n    HeadLable,\n    InputAutoComplete,\n    TabChange,\n    Empty,\n  },\n})\nexport default class extends Vue {\n  private defaultActivity: any = 0\n  private orderStatics = {}\n  private row = {}\n\n  private equipmentType = ''\n  private purchaseId = '' //采购单号\n  private valueTime = []\n  private dialogVisible = false //详情弹窗\n  private cancelDialogTitle = '取消' //默认取消\n  private cancelReason = ''\n  private refuseReason = ''\n  private remark = '' //自定义原因\n  private equipmentName = ''\n  private counts: number = 0\n  private page: number = 1\n  private pageSize: number = 10\n  private tableData = []\n\n\n  private diaForm = []\n  private isSearch: boolean = false\n  private purchaseStatus = -1 //列表字段展示所需订单状态,用于分页请求数据\n  private dialogPurchaseStatus = 0 //弹窗所需订单状态，用于详情展示字段\n\n  private purchaseList = [\n    {\n      label: '全部采购单',\n      value: -1,\n    },\n    {\n      label: '待接收',\n      value: 0,\n    },\n    {\n      label: '进行中',\n      value: 1,\n    },\n    {\n      label: '待审核',\n      value: 2,\n    },\n    {\n      label: '待采购',\n      value: 3,\n    },\n    {\n      label: '已完成',\n      value: 4,\n    },\n    {\n      label: '已驳回',\n      value: 5,\n    },\n    {\n      label: '已取消',\n      value: 6,\n    },\n  ]\n\n  created() {\n    this.init(Number(this.$route.query.status) || -1)\n  }\n\n  mounted() {\n    //如果有值说明是消息通知点击进来的\n    if (\n      this.$route.query.orderId &&\n      this.$route.query.orderId !== 'undefined'\n    ) {\n      this.goDetail(this.$route.query.orderId, 2)\n    }\n    if (this.$route.query.status) {\n      this.defaultActivity = this.$route.query.status\n    }\n    // console.log(this.$route.query, 'this.$route')\n  }\n\n  initFun(purchaseStatus) {\n    this.page = 1\n    this.init(purchaseStatus)\n  }\n\n  //管理标签页点击事件\n  change(activeIndex) {\n    if (activeIndex === this.purchaseStatus) return\n    this.init(activeIndex)\n    this.valueTime = []\n    this.dialogPurchaseStatus = 0\n    this.$router.push('/purchasingOffer/purchase')\n    console.log(activeIndex, '接收到了子组件的index')\n  }\n\n  //获取待处理，待派送，派送中数量\n  getOrderListBy4Status() {\n    getPurchaseListBy({})\n      .then((res) => {\n        if (res.data.code === 1) {\n          this.orderStatics = res.data.data\n        } else {\n          this.$message.error(res.data.msg)\n        }\n      })\n      .catch((err) => {\n        this.$message.error('请求出错了：' + err.message)\n      })\n  }\n\n  init(activeIndex: number = -1, isSearch?) {\n    this.isSearch = isSearch\n    const params = {\n      page: this.page,\n      pageSize: this.pageSize,\n      equipmentName: this.equipmentName || undefined,\n      equipmentType: this.equipmentType || undefined,\n      beginTime:\n        this.valueTime && this.valueTime.length > 0\n          ? this.valueTime[0]\n          : undefined,\n      endTime:\n        this.valueTime && this.valueTime.length > 0\n          ? this.valueTime[1]\n          : undefined,\n      status: activeIndex === -1 ? undefined : activeIndex,\n      // isDeleted:activeIndex === 5 ? 1 : 0\n    }\n    getOrderDetailPage({ ...params })\n      .then((res) => {\n        if (res.data.code === 1) {\n          console.log(this.purchaseStatus)\n          this.tableData = res.data.data.records\n          this.purchaseStatus = activeIndex\n          console.log(activeIndex)\n          this.counts = Number(res.data.data.total)\n          this.getOrderListBy4Status()\n          //处理下一条操作\n          /* if (\n            this.dialogOrderStatus === 2 &&\n            this.purchaseStatus === 2 &&\n//           this.isAutoNext &&\n//           !this.isTableOperateBtn &&\n            res.data.data.records.length > 1\n          ) {\n            const row = res.data.data.records[0]\n            this.goDetail(row.id, row.status, row)\n          } else {\n            return null\n          } */\n        } else {\n          this.$message.error(res.data.msg)\n        }\n      })\n      .catch((err) => {\n        this.$message.error('请求出错了：' + err.message)\n      })\n  }\n\n  // 添加更改\n  private goToDeliver(st: any) {\n    this.$router.push({ path: '/purchasingOffer/purchase/add', query: { purchaseId: st.purchaseId, status: st.status } })\n  }\n\n  //获取采购状态\n  getPurchaseType(row: any) {\n    if (row.status === 0) {\n      return '待接收'\n    } else if (row.status === 1) {\n      return '进行中'\n    } else if (row.status === 2) {\n      return '待审核'\n    } else if (row.status === 3) {\n      return '待采购'\n    } else if (row.status === 4) {\n      return '已完成'\n    } else if (row.status === 5) {\n      return '已取消'\n    } else {\n      return '状态错误'\n    }\n  }\n\n  //获取设备类型\n  getEquimentType(row: any) {\n    if (row.equipmentType === 1) {\n      return '客服设备'\n    } else if (row.equipmentType === 2) {\n      return '机电设备'\n    } else if (row.equipmentType === 3) {\n      return '消防设备'\n    } else if (row.equipmentType === 4) {\n      return '电梯设备'\n    } else {\n      return '状态错误'\n    }\n  }\n\n\n  // 查看详情\n  async goDetail(id: any, status: number, row?: any) {\n    // console.log(111, index, row)\n    this.diaForm = []\n    this.dialogVisible = true\n    this.dialogPurchaseStatus = status\n    this.purchaseId = id\n    console.log(\"查看详情Id\" + id)\n    const { data } = await queryPurchaseDetailById({ purchaseId: id })\n    this.diaForm = data.data\n    this.row = row || { id: this.$route.query.purchaseId, status: status }\n    if (this.$route.query.purchaseId) {\n      this.$router.push('/purchase')\n    }\n  }\n\n // 接收任务\nreceivePurchase(row: any) {\n  this.purchaseId = row.purchaseId;\n  this.dialogPurchaseStatus = row.status;\n\n  // 弹出确认接收的弹框\n  this.$confirm(\"确定要接收此采购单吗？\", \"确认操作\", {\n    confirmButtonText: \"确定\",\n    cancelButtonText: \"取消\",\n    type: \"warning\"\n  })\n  .then(() => {\n    // 用户点击确定后执行接收操作\n    receivePurchase({\n      purchaseId: this.purchaseId,\n      status: row.status,\n    })\n    .then((res) => {\n      if (res.data.code === 1) {\n        this.$message.success(\"接收成功！\");\n        this.purchaseId = '';\n        this.dialogVisible = false;\n        this.init(this.purchaseStatus);\n      } else {\n        this.$message.error(res.data.msg);\n      }\n    })\n    .catch((err) => {\n      this.$message.error('请求出错了：' + err.message);\n    });\n  })\n  .catch(() => {\n    // 用户点击取消或关闭弹框\n    this.$message.info(\"已取消接收操作\");\n  });\n}\n\n  //审核不通过\n  refusePurchase(row: any) {\n    //this.cancelDialogVisible = true\n    this.purchaseId = row.purchaseId\n    this.dialogPurchaseStatus = row.status\n    this.dialogVisible = false\n    this.cancelDialogTitle = '审核不通过'\n    this.refuseReason = ''\n   \n  }\n\n  // 导出Excel\n  exportExcel() {\n    this.$message.info('正在导出，请稍候...')\n    \n    // 构建查询参数，与当前列表筛选条件保持一致\n    const params = {\n      equipmentName: this.equipmentName || undefined,\n      equipmentType: this.equipmentType || undefined,\n      beginTime: this.valueTime && this.valueTime.length > 0 ? this.valueTime[0] : undefined,\n      endTime: this.valueTime && this.valueTime.length > 0 ? this.valueTime[1] : undefined,\n    }\n    \n    exportCompletedPurchases(params)\n      .then(response => {\n        // 获取文件名\n        const disposition = response.headers['content-disposition']\n        let fileName = '已完成采购单.xlsx'\n        if (disposition) {\n          const filenameRegex = /filename[^;=\\n]*=((['\"']).*?\\2|[^;\\n]*)/\n          const matches = filenameRegex.exec(disposition)\n          if (matches != null && matches[1]) {\n            fileName = decodeURIComponent(matches[1].replace(/['\"']*/g, ''))\n          }\n        }\n        \n        // 创建Blob对象\n        const blob = new Blob([response.data], { \n          type: 'application/vnd.ms-excel' \n        })\n        \n        // 创建下载链接\n        const link = document.createElement('a')\n        \n        // 创建下载URL\n        link.href = URL.createObjectURL(blob)\n        link.download = fileName\n        \n        // 触发点击下载\n        document.body.appendChild(link)\n        link.click()\n        \n        // 清理\n        document.body.removeChild(link)\n        URL.revokeObjectURL(link.href)\n        \n        this.$message.success('导出成功')\n      })\n      .catch(error => {\n        this.$message.error('导出失败：' + error.message)\n      })\n  }\n\n  //打开取消订单弹窗\n  cancelPurchase(row: any) {\n    //this.cancelDialogVisible = true\n    this.purchaseId = row.purchaseId\n    this.dialogVisible = false\n    this.cancelReason = ''\n    this.cancelDialogTitle = '取消'\n    this.dialogPurchaseStatus = row.status\n  }\n\n\n  //确认取消或拒绝订单并填写原因\n  confirmCancel(type) {\n    if (!this.cancelReason&&!this.refuseReason) {\n      return this.$message.error(`请选择${this.cancelDialogTitle}原因`)\n    } \n\n    ;(this.cancelDialogTitle === '取消' ? purchaseCancel : auditPurchase)({\n      purchaseId: this.purchaseId,\n      status:this.cancelDialogTitle === '取消' ? 6 : 5,\n      // eslint-disable-next-line standard/computed-property-even-spacing\n      [this.cancelDialogTitle === '取消' ? 'cancelReason' : 'refuseReason']: \n      this.cancelDialogTitle === '取消' ? this.cancelReason : this.refuseReason\n    })\n      .then((res) => {\n        if (res.data.code === 1) {\n          this.$message.success('操作成功')\n          //this.cancelDialogVisible = false\n          this.purchaseId = ''\n          // this.dialogOrderStatus = 0\n          this.init(this.purchaseStatus)\n        } else {\n          this.$message.error(res.data.msg)\n        }\n      })\n      .catch((err) => {\n        this.$message.error('请求出错了：' + err.message)\n      })\n  }\n\n  handleClose() {\n    this.dialogVisible = false\n  }\n\n  private handleSizeChange(val: any) {\n    this.pageSize = val\n    this.init(this.purchaseStatus)\n  }\n\n  private handleCurrentChange(val: any) {\n    this.page = val\n    this.init(this.purchaseStatus)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dashboard {\n  &-container {\n    margin: 30px;\n    // height: 100%;\n    min-height: 700px;\n\n    .container {\n      background: #fff;\n      position: relative;\n      z-index: 1;\n      padding: 30px 28px;\n      border-radius: 4px;\n      // min-height: 650px;\n      height: calc(100% - 55px);\n\n      .tableBar {\n        // display: flex;\n        margin-bottom: 20px;\n        justify-content: space-between;\n\n        .tableLab {\n          span {\n            cursor: pointer;\n            display: inline-block;\n            font-size: 14px;\n            padding: 0 20px;\n            color: $gray-2;\n            border-right: solid 1px $gray-4;\n          }\n        }\n      }\n\n      .tableBox {\n        width: 100%;\n        border: 1px solid $gray-5;\n        border-bottom: 0;\n      }\n\n      .pageList {\n        text-align: center;\n        margin-top: 30px;\n      }\n\n      //查询黑色按钮样式\n      .normal-btn {\n        background: #333333;\n        color: white;\n        margin-left: 20px;\n      }\n    }\n\n    .hContainer {\n      height: auto !important;\n    }\n  }\n}\n\n.search-btn {\n  margin-left: 20px;\n}\n\n.info-box {\n  margin: -15px -44px 20px;\n\n  p {\n    display: flex;\n    height: 20px;\n    line-height: 20px;\n    font-size: 14px;\n    font-weight: 400;\n    color: #666666;\n    text-align: left;\n    margin-bottom: 14px;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    label {\n      width: 100px;\n      display: inline-block;\n      color: #666;\n    }\n\n    .des {\n      flex: 1;\n      color: #333333;\n    }\n  }\n}\n\n.order-top {\n  // height: 80px;\n  border-bottom: 1px solid #e7e6e6;\n  padding-bottom: 26px;\n  padding-left: 22px;\n  padding-right: 22px;\n  // margin: 0 30px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  .order-status {\n    width: 57.25px;\n    height: 27px;\n    background: #333333;\n    border-radius: 13.5px;\n    color: white;\n    margin-left: 19px;\n    text-align: center;\n    line-height: 27px;\n  }\n\n  .status3 {\n    background: #f56c6c;\n  }\n\n  p {\n    color: #333;\n\n    label {\n      color: #666;\n    }\n  }\n\n  .order-num {\n    font-size: 16px;\n    color: #2a2929;\n    font-weight: bold;\n    display: inline-block;\n  }\n}\n\n.order-middle {\n  .user-info {\n    min-height: 140px;\n    background: #fbfbfa;\n    margin-top: 23px;\n\n    padding: 20px 43px;\n    color: #333;\n\n    .user-info-box {\n      min-height: 55px;\n      display: flex;\n      flex-wrap: wrap;\n\n      .user-name {\n        flex: 67%;\n      }\n\n      .user-phone {\n        flex: 33%;\n      }\n\n      .user-getTime {\n        margin-top: 14px;\n        flex: 80%;\n\n        label {\n          margin-right: 3px;\n        }\n      }\n\n      label {\n        margin-right: 17px;\n        color: #666;\n      }\n\n      .user-address {\n        margin-top: 14px;\n        flex: 80%;\n\n        label {\n          margin-right: 30px;\n        }\n      }\n    }\n\n    .user-remark {\n      min-height: 43px;\n      line-height: 43px;\n      background: #fffbf0;\n      border: 1px solid #fbe396;\n      border-radius: 4px;\n      margin-top: 10px;\n      padding: 6px;\n      display: flex;\n      align-items: center;\n\n      div {\n        display: inline-block;\n        min-width: 53px;\n        height: 32px;\n        background: #fbe396;\n        border-radius: 4px;\n        text-align: center;\n        line-height: 32px;\n        color: #333;\n        margin-right: 30px;\n        // padding: 12px 6px;\n      }\n\n      span {\n        color: #f2a402;\n        line-height: 1.15;\n      }\n    }\n\n    .orderCancel {\n      background: #ffffff;\n      border: 1px solid #b6b6b6;\n\n      div {\n        padding: 0 10px;\n        background-color: #e5e4e4;\n      }\n\n      span {\n        color: #f56c6c;\n      }\n    }\n  }\n\n  .dish-info {\n    // min-height: 180px;\n    display: flex;\n    flex-wrap: wrap;\n    padding: 20px 40px;\n    border-bottom: 1px solid #e7e6e6;\n\n    .dish-label {\n      color: #666;\n    }\n\n    .dish-list {\n      flex: 80%;\n      display: flex;\n      flex-wrap: wrap;\n\n      .dish-item {\n        flex: 50%;\n        margin-bottom: 14px;\n        color: #333;\n\n        .dish-num {}\n\n        .dish-item-box {\n          display: inline-block;\n          width: 120px;\n        }\n      }\n    }\n\n    .dish-label {\n      margin-right: 65px;\n    }\n\n    .dish-all-amount {\n      flex: 1;\n      padding-left: 92px;\n      margin-top: 10px;\n\n      label {\n        color: #333333;\n        font-weight: bold;\n        margin-right: 5px;\n      }\n\n      span {\n        color: #f56c6c;\n      }\n    }\n  }\n}\n\n.order-bottom {\n  .amount-info {\n    // min-height: 180px;\n    display: flex;\n    flex-wrap: wrap;\n    padding: 20px 40px;\n    padding-bottom: 0px;\n\n    .amount-label {\n      color: #666;\n      margin-right: 65px;\n    }\n\n    .amount-list {\n      flex: 80%;\n      display: flex;\n      flex-wrap: wrap;\n      color: #333;\n\n      // height: 65px;\n      .dish-amount,\n      .package-amount,\n      .pay-type {\n        display: inline-block;\n        width: 300px;\n        margin-bottom: 14px;\n        flex: 50%;\n      }\n\n      .send-amount,\n      .all-amount,\n      .pay-time {\n        display: inline-block;\n        flex: 50%;\n        padding-left: 10%;\n      }\n\n      .package-amount {\n        .amount-name {\n          margin-right: 14px;\n        }\n      }\n\n      .all-amount {\n        .amount-name {\n          margin-right: 24px;\n        }\n\n        .amount-price {\n          color: #f56c6c;\n        }\n      }\n\n      .send-amount {\n        .amount-name {\n          margin-right: 10px;\n        }\n      }\n    }\n  }\n}\n</style>\n\n<style lang=\"scss\">\n.dashboard-container {\n  .cancelReason {\n    padding-left: 40px;\n  }\n\n  .cancelTime {\n    padding-left: 50px;\n  }\n\n  .orderTime {\n    padding-left: 50px;\n  }\n\n  td.operate .cell {\n\n    .before,\n    .middle,\n    .after {\n      height: 39px;\n      width: 48px;\n    }\n  }\n\n  td.operate .cell,\n  td.otherOperate .cell {\n    display: flex;\n    flex-wrap: nowrap;\n    justify-content: center;\n  }\n\n  .order-dialog {\n    .el-dialog {\n      max-height: 764px !important;\n      display: flex;\n      flex-direction: column;\n      margin: 0 !important;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      max-height: calc(100% - 30px);\n      max-width: calc(100% - 30px);\n    }\n\n    .el-dialog__body {\n      height: 520px !important;\n    }\n  }\n}\n\n.el-dialog__body {\n  padding-top: 34px;\n  padding-left: 30px;\n  padding-right: 30px;\n}\n\n.cancelDialog {\n  .el-dialog__body {\n    padding-left: 64px;\n  }\n\n  .el-select,\n  .el-textarea {\n    width: 293px;\n  }\n\n  .el-textarea textarea {\n    height: 114px;\n  }\n}\n\n.el-dialog__footer {\n  .el-checkbox {\n    float: left;\n    margin-left: 40px;\n  }\n\n  .el-checkbox__label {\n    color: #333333 !important;\n  }\n}\n\n.empty-box {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  img {\n    margin-top: 0 !important;\n  }\n}\n</style>\n"]}]}