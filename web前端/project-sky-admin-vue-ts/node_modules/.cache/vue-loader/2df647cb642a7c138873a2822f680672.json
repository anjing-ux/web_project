{"remainingRequest":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\WarehouseManager\\deviceBrowse.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\WarehouseManager\\deviceBrowse.vue","mtime":1745949389123},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\style-resources-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.el-table-column--selection .cell {\r\n  padding-left: 10px;\r\n}\r\n",{"version":3,"sources":["deviceBrowse.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8SA;AACA;AACA","file":"deviceBrowse.vue","sourceRoot":"src/views/WarehouseManager","sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <div class=\"container\">\r\n      <div class=\"tableBar\">\r\n        <label style=\"margin-right: 10px\">设备名称：</label>\r\n        <el-input v-model=\"equipmentName\" placeholder=\"请填写设备名称\" style=\"width: 14%\" clearable @clear=\"init\"\r\n          @keyup.enter.native=\"initFun\" />\r\n        <label style=\"margin-right: 10px; margin-left: 20px\">设备类型：</label>\r\n        <el-select v-model=\"equipmentType\" style=\"width: 14%\" placeholder=\"请选择\" clearable @clear=\"init\">\r\n          <el-option label=\"客服设备\" value=\"1\" />\r\n          <el-option label=\"机电设备\" value=\"2\" />\r\n          <el-option label=\"消防设备\" value=\"3\" />\r\n          <el-option label=\"电梯设备\" value=\"4\" />\r\n        </el-select>\r\n\r\n        <label style=\"margin-left: 20px\">入库日期：</label>\r\n        <el-date-picker v-model=\"inboundDate\" clearable value-format=\"yyyy-MM-dd HH:mm:ss\" range-separator=\"至\"\r\n          :default-time=\"['00:00:00', '23:59:59']\" type=\"daterange\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\"\r\n          style=\"width: 25%; margin-left: 10px\" @clear=\"init\" />\r\n\r\n        <el-button class=\"normal-btn continue\" @click=\"init(true)\">\r\n          查询\r\n        </el-button>\r\n      </div>\r\n      <el-table v-if=\"tableData.length\" :data=\"tableData\" stripe class=\"tableBox\">\r\n        <el-table-column type=\"selection\" width=\"25\" />\r\n        <el-table-column prop=\"deviceId\" label=\"设备编号\" />\r\n        <el-table-column prop=\"equipmentName\" label=\"设备名称\" />\r\n        <el-table-column prop=\"equipmentType\" label=\"设备类型\" />\r\n        <el-table-column prop=\"storageLocation\" label=\"货架位置\" />\r\n        <el-table-column prop=\"inboundDate\" label=\"入库日期\" />\r\n\r\n        <el-table-column prop=\"expectedLife\" label=\"预期使用寿命\" />\r\n        <el-table-column label=\"操作\" width=\"250\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"text\" size=\"small\" class=\"blueBug\" @click=\"getDetail(row.deviceId)\">\r\n              查看详情\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <Empty v-else :is-search=\"isSearch\" />\r\n      <el-pagination v-if=\"counts > 10\" class=\"pageList\" :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\" :total=\"counts\" @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\" />\r\n    </div>\r\n    <!-- 查看弹框部分 -->\r\n    <el-dialog title=\"设备存储信息\" :visible.sync=\"dialogVisible\" width=\"53%\" :before-close=\"handleClose\"\r\n      class=\"order-dialog\">\r\n      <el-scrollbar style=\"height: 100%\">\r\n      <!-- 顶部信息 -->\r\n      <div class=\"order-top\">\r\n        <div>\r\n          <div style=\"display: inline-block\">\r\n            <label style=\"font-size: 16px\">库存记录ID：</label>\r\n            <div class=\"order-num\">\r\n              {{ diaForm.inventoryId }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <p><label>入库日期：</label>{{ diaForm.inboundDate }}</p>\r\n      </div>\r\n\r\n      <!-- 中间信息 -->\r\n      <div class=\"order-middle\">\r\n        <!-- 库存信息 -->\r\n        <div class=\"dish-label\">库存信息</div>\r\n        <div class=\"user-info\">\r\n          <div class=\"user-info-box\">\r\n            <div class=\"user-name\">\r\n              <label>仓库ID：</label>\r\n              <span>{{ diaForm.warehouseId }}</span>\r\n            </div>\r\n\r\n            <div class=\"user-name\">\r\n              <label>采购ID：</label>\r\n              <span>{{ diaForm.purchaseId }}</span>\r\n            </div>\r\n\r\n            <div class=\"user-phone\">\r\n              <label>设备ID：</label>\r\n              <span>{{ diaForm.deviceId }}</span>\r\n            </div>\r\n\r\n            <div>\r\n              <div class=\"user-getTime\">\r\n                <label>设备类型：</label>\r\n                <span>\r\n                  {{ diaForm.equipmentType === 1 ? '客服设备' :\r\n                    diaForm.equipmentType === 2 ? '机电设备' :\r\n                      diaForm.equipmentType === 3 ? '消防设备' :\r\n                        diaForm.equipmentType === 4 ? '电梯设备' : '未知' }}\r\n                </span>\r\n              </div>\r\n\r\n              <div class=\"user-name\">\r\n                <label>设备名称：</label>\r\n                <span>{{ diaForm.equipmentName }}</span>\r\n              </div>\r\n\r\n              <div>\r\n                <label>型号：</label>\r\n                <span>{{ diaForm.modelNumber }}</span>\r\n              </div>\r\n\r\n              <div>\r\n                <label>生产厂家：</label>\r\n                <span>{{ diaForm.manufacturer }}</span>\r\n              </div>\r\n\r\n              <div>\r\n                <label>入库批次号：</label>\r\n                <span>{{ diaForm.batchNumber }}</span>\r\n              </div>\r\n\r\n              <div>\r\n                <label>库位/货架位置：</label>\r\n                <span>{{ diaForm.storageLocation }}</span>\r\n              </div>\r\n\r\n              <div>\r\n                <label>单位：</label>\r\n                <span>{{ diaForm.unit }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"user-remark\">\r\n            <div>备注：</div>\r\n            <span>{{ diaForm.remark }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 质检信息 -->\r\n        <div class=\"dish-info\">\r\n          <div class=\"dish-label\">质检信息</div>\r\n          <div class=\"user-info-box\">\r\n            <div>\r\n              <label>质检状态：</label>\r\n              <span>\r\n                {{ diaForm.qualityStatus === 1 ? '合格' :\r\n                  diaForm.qualityStatus === 2 ? '待检' :\r\n                    diaForm.qualityStatus === 3 ? '不合格' : '未知' }}\r\n              </span>\r\n            </div>\r\n\r\n            <div>\r\n              <label>质检日期：</label>\r\n              <span>{{ diaForm.inspectionDate }}</span>\r\n            </div>\r\n\r\n            <div>\r\n              <label>质检结果：</label>\r\n              <span>{{ diaForm.inspectionResult }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 底部信息 -->\r\n      <div class=\"order-bottom\">\r\n        <div class=\"amount-info\">\r\n          <div class=\"amount-label\">其他信息</div>\r\n\r\n          <div class=\"user-remark\">\r\n            <div>保修期：</div>\r\n            <span>{{ diaForm.warrantyPeriod }} 个月</span>\r\n          </div>\r\n\r\n          <div class=\"user-remark\">\r\n            <div>预期使用寿命：</div>\r\n            <span>{{ diaForm.expectedLife }} 个月</span>\r\n          </div>\r\n\r\n          <div class=\"user-remark\">\r\n            <div>创建时间：</div>\r\n            <span>{{ diaForm.createTime }}</span>\r\n          </div>\r\n\r\n          <div class=\"user-remark\">\r\n            <div>创建人：</div>\r\n            <span>{{ diaForm.createBy }}</span>\r\n          </div>\r\n\r\n          <div class=\"user-remark\">\r\n            <div>更新时间：</div>\r\n            <span>{{ diaForm.updateTime }}</span>\r\n          </div>\r\n\r\n          <div class=\"user-remark\">\r\n            <div>更新人：</div>\r\n            <span>{{ diaForm.updateBy }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-scrollbar>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button v-if=\"true\" @click=\"dialogVisible = false\">返 回</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport HeadLable from '@/components/HeadLable/index.vue'\r\nimport {\r\n  getDevicePage,\r\n  //queryDeviceById\r\n} from '@/api/warehouse.ts'\r\nimport InputAutoComplete from '@/components/InputAutoComplete/index.vue'\r\nimport Empty from '@/components/Empty/index.vue'\r\n\r\n@Component({\r\n  name: 'deviceBrowse',\r\n  components: {\r\n    HeadLable,\r\n    InputAutoComplete,\r\n    Empty\r\n  }\r\n})\r\nexport default class extends Vue {\r\n  private equipmentName: any = ''\r\n  private counts: number = 0\r\n  private page: number = 1\r\n  private pageSize: number = 10\r\n  private tableData: [] = []\r\n  private equipmentType = ''\r\n  private inboundDate = []\r\n  private isSearch: boolean = false\r\n  private deviceId = '' //设备编号\r\n  private dialogVisible = false //详情弹窗\r\n  private diaForm = []\r\n  private row = {}\r\n\r\n  created() {\r\n    this.init()\r\n  }\r\n\r\n  initProp(val) {\r\n    this.equipmentName = val\r\n    this.initFun()\r\n  }\r\n\r\n  initFun() {\r\n    this.page = 1\r\n    this.init()\r\n  }\r\n\r\n  private async init(isSearch?) {\r\n    this.isSearch = isSearch\r\n    await getDevicePage({\r\n      page: this.page,\r\n      pageSize: this.pageSize,\r\n      equipmentName: this.equipmentName || undefined,\r\n      equipmentType: this.equipmentType || undefined,\r\n      beginTime:\r\n        this.inboundDate && this.inboundDate.length > 0\r\n          ? this.inboundDate[0]\r\n          : undefined,\r\n      endTime:\r\n        this.inboundDate && this.inboundDate.length > 0\r\n          ? this.inboundDate[1]\r\n          : undefined,\r\n    })\r\n      .then(res => {\r\n        if (res.data.code === 1) {\r\n          this.tableData = res.data && res.data.data && res.data.data.records\r\n          this.counts = Number(res.data.data.total)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.$message.error('请求出错了：' + err.message)\r\n      })\r\n  }\r\n\r\n  // 查看详情\r\n  async getDetail(id: any) {\r\n    // console.log(111, index, row)\r\n    this.diaForm = []\r\n    this.dialogVisible = true\r\n    console.log(\"查看详情Id\" + id)\r\n    const { data } = await queryDeviceById({ deviceId: id })\r\n    this.diaForm = data.data\r\n  }\r\n  //关闭详情弹窗\r\n  handleClose() {\r\n    this.dialogVisible = false\r\n  }\r\n\r\n  private handleSizeChange(val: any) {\r\n    this.pageSize = val\r\n    this.init()\r\n  }\r\n\r\n  private handleCurrentChange(val: any) {\r\n    this.page = val\r\n    this.init()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.el-table-column--selection .cell {\r\n  padding-left: 10px;\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n.dashboard {\r\n  &-container {\r\n    margin: 30px;\r\n\r\n    .container {\r\n      background: #fff;\r\n      position: relative;\r\n      z-index: 1;\r\n      padding: 30px 28px;\r\n      border-radius: 4px;\r\n\r\n      //查询黑色按钮样式\r\n      .normal-btn {\r\n        background: #333333;\r\n        color: white;\r\n        margin-left: 20px;\r\n      }\r\n\r\n      .tableBar {\r\n        margin-bottom: 20px;\r\n\r\n        .tableLab {\r\n          display: inline-block;\r\n          float: right;\r\n\r\n          span {\r\n            cursor: pointer;\r\n            display: inline-block;\r\n            font-size: 14px;\r\n            padding: 0 20px;\r\n            color: $gray-2;\r\n          }\r\n        }\r\n      }\r\n\r\n      .tableBox {\r\n        width: 100%;\r\n        border: 1px solid $gray-5;\r\n        border-bottom: 0;\r\n      }\r\n\r\n      .pageList {\r\n        text-align: center;\r\n        margin-top: 30px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}