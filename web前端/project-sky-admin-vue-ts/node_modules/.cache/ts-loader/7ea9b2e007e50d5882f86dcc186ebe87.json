{"remainingRequest":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\thread-loader\\dist\\cjs.js!G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js!G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js??ref--13-3!G:\\device-management\\project-sky-admin-vue-ts\\src\\layout\\mixin\\resize.ts","dependencies":[{"path":"G:\\device-management\\project-sky-admin-vue-ts\\src\\layout\\mixin\\resize.ts","mtime":1652756116000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _classCallCheck from \"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits\";\nimport { __decorate } from \"tslib\";\nimport { Component, Vue, Watch } from 'vue-property-decorator';\nimport { AppModule, DeviceType } from '@/store/modules/app';\nvar WIDTH = 992; // refer to Bootstrap's responsive design\n\nvar default_1 =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(default_1, _Vue);\n\n  function default_1() {\n    _classCallCheck(this, default_1);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(default_1).apply(this, arguments));\n  }\n\n  _createClass(default_1, [{\n    key: \"onRouteChange\",\n    value: function onRouteChange() {\n      if (this.device === DeviceType.Mobile && this.sidebar.opened) {\n        AppModule.CloseSideBar(false);\n      }\n    }\n  }, {\n    key: \"beforeMount\",\n    value: function beforeMount() {\n      window.addEventListener('resize', this.resizeHandler);\n    }\n  }, {\n    key: \"mounted\",\n    value: function mounted() {\n      var isMobile = this.isMobile();\n\n      if (isMobile) {\n        AppModule.ToggleDevice(DeviceType.Mobile);\n        AppModule.CloseSideBar(true);\n      }\n    }\n  }, {\n    key: \"beforeDestroy\",\n    value: function beforeDestroy() {\n      window.removeEventListener('resize', this.resizeHandler);\n    }\n  }, {\n    key: \"isMobile\",\n    value: function isMobile() {\n      var rect = document.body.getBoundingClientRect();\n      return rect.width - 1 < WIDTH;\n    }\n  }, {\n    key: \"resizeHandler\",\n    value: function resizeHandler() {\n      if (!document.hidden) {\n        var isMobile = this.isMobile();\n        AppModule.ToggleDevice(isMobile ? DeviceType.Mobile : DeviceType.Desktop);\n\n        if (isMobile) {\n          AppModule.CloseSideBar(true);\n        }\n      }\n    }\n  }, {\n    key: \"device\",\n    get: function get() {\n      return AppModule.device;\n    }\n  }, {\n    key: \"sidebar\",\n    get: function get() {\n      return AppModule.sidebar;\n    }\n  }]);\n\n  return default_1;\n}(Vue);\n\n__decorate([Watch('$route')], default_1.prototype, \"onRouteChange\", null);\n\ndefault_1 = __decorate([Component({\n  'name': 'ResizeMixin'\n})], default_1);\nexport default default_1;",{"version":3,"sources":["G:\\device-management\\project-sky-admin-vue-ts\\src\\layout\\mixin\\resize.ts"],"names":[],"mappings":";;;;;;AAAA,SAAS,SAAT,EAAoB,GAApB,EAAyB,KAAzB,QAAsC,wBAAtC;AACA,SAAS,SAAT,EAAoB,UAApB,QAAsC,qBAAtC;AAEA,IAAM,KAAK,GAAG,GAAd,C,CAAmB;;AAKnB,IAAA,SAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,oCAUyB;AACnB,UAAI,KAAK,MAAL,KAAgB,UAAU,CAAC,MAA3B,IAAqC,KAAK,OAAL,CAAa,MAAtD,EAA8D;AAC5D,QAAA,SAAS,CAAC,YAAV,CAAuB,KAAvB;AACD;AACF;AAdL;AAAA;AAAA,kCAgBa;AACT,MAAA,MAAM,CAAC,gBAAP,CAAwB,QAAxB,EAAkC,KAAK,aAAvC;AACD;AAlBH;AAAA;AAAA,8BAoBS;AACL,UAAM,QAAQ,GAAG,KAAK,QAAL,EAAjB;;AACA,UAAI,QAAJ,EAAc;AACZ,QAAA,SAAS,CAAC,YAAV,CAAuB,UAAU,CAAC,MAAlC;AACA,QAAA,SAAS,CAAC,YAAV,CAAuB,IAAvB;AACD;AACF;AA1BH;AAAA;AAAA,oCA4Be;AACX,MAAA,MAAM,CAAC,mBAAP,CAA2B,QAA3B,EAAqC,KAAK,aAA1C;AACD;AA9BH;AAAA;AAAA,+BAgCkB;AACd,UAAM,IAAI,GAAG,QAAQ,CAAC,IAAT,CAAc,qBAAd,EAAb;AACA,aAAO,IAAI,CAAC,KAAL,GAAa,CAAb,GAAiB,KAAxB;AACD;AAnCH;AAAA;AAAA,oCAqCuB;AACnB,UAAI,CAAC,QAAQ,CAAC,MAAd,EAAsB;AACpB,YAAM,QAAQ,GAAG,KAAK,QAAL,EAAjB;AACA,QAAA,SAAS,CAAC,YAAV,CAAuB,QAAQ,GAAG,UAAU,CAAC,MAAd,GAAuB,UAAU,CAAC,OAAjE;;AACA,YAAI,QAAJ,EAAc;AACZ,UAAA,SAAS,CAAC,YAAV,CAAuB,IAAvB;AACD;AACF;AACF;AA7CH;AAAA;AAAA,wBACc;AACR,aAAO,SAAS,CAAC,MAAjB;AACD;AAHL;AAAA;AAAA,wBAKe;AACT,aAAO,SAAS,CAAC,OAAjB;AACD;AAPL;;AAAA;AAAA,EAA6B,GAA7B,CAAA;;AAUI,UAAA,CAAA,CADD,KAAK,CAAC,QAAD,CACJ,CAAA,E,mBAAA,E,eAAA,EAIC,IAJD,CAAA;;AAVJ,SAAA,GAAA,UAAA,CAAA,CAHC,SAAS,CAAC;AACP,UAAQ;AADD,CAAD,CAGV,CAAA,EA8CC,SA9CD,CAAA","sourcesContent":["import { Component, Vue, Watch } from 'vue-property-decorator'\r\nimport { AppModule, DeviceType } from '@/store/modules/app'\r\n\r\nconst WIDTH = 992; // refer to Bootstrap's responsive design\r\n\r\n@Component({\r\n    'name': 'ResizeMixin'\r\n})\r\nexport default class extends Vue {\r\n    get device () {\r\n      return AppModule.device\r\n    }\r\n\r\n    get sidebar () {\r\n      return AppModule.sidebar\r\n    }\r\n\r\n  @Watch('$route')\r\n    private onRouteChange() {\r\n      if (this.device === DeviceType.Mobile && this.sidebar.opened) {\r\n        AppModule.CloseSideBar(false)\r\n      }\r\n    }\r\n\r\n  beforeMount() {\r\n    window.addEventListener('resize', this.resizeHandler)\r\n  }\r\n\r\n  mounted() {\r\n    const isMobile = this.isMobile()\r\n    if (isMobile) {\r\n      AppModule.ToggleDevice(DeviceType.Mobile)\r\n      AppModule.CloseSideBar(true)\r\n    }\r\n  }\r\n\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.resizeHandler)\r\n  }\r\n\r\n  private isMobile() {\r\n    const rect = document.body.getBoundingClientRect()\r\n    return rect.width - 1 < WIDTH\r\n  }\r\n\r\n  private resizeHandler() {\r\n    if (!document.hidden) {\r\n      const isMobile = this.isMobile()\r\n      AppModule.ToggleDevice(isMobile ? DeviceType.Mobile : DeviceType.Desktop)\r\n      if (isMobile) {\r\n        AppModule.CloseSideBar(true)\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}]}