{"remainingRequest":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js!G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js??ref--14-2!G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\director\\dashboard\\components\\PieChart.vue?vue&type=script&lang=ts&","dependencies":[{"path":"G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\director\\dashboard\\components\\PieChart.vue","mtime":1748448116000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/inherits\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/toConsumableArray\"));\n\nvar _tslib = require(\"tslib\");\n\nvar _vuePropertyDecorator = require(\"vue-property-decorator\");\n\nvar _chart = require(\"chart.js\");\n\n_chart.Chart.register.apply(_chart.Chart, (0, _toConsumableArray2.default)(_chart.registerables));\n\nvar PieChart =\n/*#__PURE__*/\nfunction (_Vue) {\n  (0, _inherits2.default)(PieChart, _Vue);\n\n  function PieChart() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, PieChart);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(PieChart).apply(this, arguments));\n    _this.chartInstance = null;\n    return _this;\n  }\n\n  (0, _createClass2.default)(PieChart, [{\n    key: \"mounted\",\n    value: function mounted() {\n      this.renderChart();\n    }\n  }, {\n    key: \"onChartDataChange\",\n    value: function onChartDataChange() {\n      this.renderChart();\n    }\n  }, {\n    key: \"renderChart\",\n    value: function renderChart() {\n      var ctx = this.$refs.pieChart.getContext('2d');\n\n      if (this.chartInstance) {\n        this.chartInstance.destroy();\n      }\n\n      if (ctx) {\n        this.chartInstance = new _chart.Chart(ctx, {\n          type: 'pie',\n          data: this.chartData,\n          options: {\n            responsive: true,\n            maintainAspectRatio: false,\n            plugins: {\n              legend: {\n                position: 'right'\n              },\n              tooltip: {\n                callbacks: {\n                  label: function label(context) {\n                    var label = context.label || '';\n                    var value = context.raw || 0;\n                    var total = context.dataset.data.reduce(function (a, b) {\n                      return a + b;\n                    }, 0);\n                    var percentage = Math.round(value / total * 100);\n                    return \"\".concat(label, \": \").concat(value, \" (\").concat(percentage, \"%)\");\n                  }\n                }\n              }\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"beforeDestroy\",\n    value: function beforeDestroy() {\n      if (this.chartInstance) {\n        this.chartInstance.destroy();\n      }\n    }\n  }]);\n  return PieChart;\n}(_vuePropertyDecorator.Vue);\n\n(0, _tslib.__decorate)([(0, _vuePropertyDecorator.Prop)({\n  required: true\n})], PieChart.prototype, \"chartData\", void 0);\n(0, _tslib.__decorate)([(0, _vuePropertyDecorator.Watch)('chartData', {\n  deep: true\n})], PieChart.prototype, \"onChartDataChange\", null);\nPieChart = (0, _tslib.__decorate)([_vuePropertyDecorator.Component], PieChart);\nvar _default = PieChart;\nexports.default = _default;",{"version":3,"sources":["G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\director\\dashboard\\components\\PieChart.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAOA;;AACA;;AAEA,aAAM,QAAN,sDAAkB,oBAAlB;;AAGA,IAAqB,QAArB;AAAA;AAAA;AAAA;;AAAA,sBAAA;AAAA;;AAAA;;AAGU,UAAA,aAAA,GAA8B,IAA9B;AAHV;AAsDC;;AAtDD;AAAA;AAAA,8BAKS;AACL,WAAK,WAAL;AACD;AAPH;AAAA;AAAA,wCAU2B;AACvB,WAAK,WAAL;AACD;AAZH;AAAA;AAAA,kCAcqB;AACjB,UAAM,GAAG,GAAI,KAAK,KAAL,CAAW,QAAX,CAA0C,UAA1C,CAAqD,IAArD,CAAb;;AAEA,UAAI,KAAK,aAAT,EAAwB;AACtB,aAAK,aAAL,CAAmB,OAAnB;AACD;;AAED,UAAI,GAAJ,EAAS;AACP,aAAK,aAAL,GAAqB,IAAI,YAAJ,CAAU,GAAV,EAAe;AAClC,UAAA,IAAI,EAAE,KAD4B;AAElC,UAAA,IAAI,EAAE,KAAK,SAFuB;AAGlC,UAAA,OAAO,EAAE;AACP,YAAA,UAAU,EAAE,IADL;AAEP,YAAA,mBAAmB,EAAE,KAFd;AAGP,YAAA,OAAO,EAAE;AACP,cAAA,MAAM,EAAE;AACN,gBAAA,QAAQ,EAAE;AADJ,eADD;AAIP,cAAA,OAAO,EAAE;AACP,gBAAA,SAAS,EAAE;AACT,kBAAA,KAAK,EAAE,eAAS,OAAT,EAAgB;AACrB,wBAAM,KAAK,GAAG,OAAO,CAAC,KAAR,IAAiB,EAA/B;AACA,wBAAM,KAAK,GAAG,OAAO,CAAC,GAAR,IAAe,CAA7B;AACA,wBAAM,KAAK,GAAG,OAAO,CAAC,OAAR,CAAgB,IAAhB,CAAqB,MAArB,CAA4B,UAAC,CAAD,EAAY,CAAZ;AAAA,6BAA0B,CAAC,GAAG,CAA9B;AAAA,qBAA5B,EAA6D,CAA7D,CAAd;AACA,wBAAM,UAAU,GAAG,IAAI,CAAC,KAAL,CAAY,KAAK,GAAG,KAAT,GAAkB,GAA7B,CAAnB;AACA,qCAAU,KAAV,eAAoB,KAApB,eAA8B,UAA9B;AACD;AAPQ;AADJ;AAJF;AAHF;AAHyB,SAAf,CAArB;AAwBD;AACF;AA/CH;AAAA;AAAA,oCAiDe;AACX,UAAI,KAAK,aAAT,EAAwB;AACtB,aAAK,aAAL,CAAmB,OAAnB;AACD;AACF;AArDH;AAAA;AAAA,EAAsC,yBAAtC,CAAA;;AAC4B,uBAAA,CAAzB,gCAAK;AAAE,EAAA,QAAQ,EAAE;AAAZ,CAAL,CAAyB,CAAA,E,kBAAA,E,WAAA,E,KAAwB,CAAxB;AAS1B,uBAAA,CADC,iCAAM,WAAN,EAAmB;AAAE,EAAA,IAAI,EAAE;AAAR,CAAnB,CACD,CAAA,E,kBAAA,E,mBAAA,EAEC,IAFD;AAVmB,QAAQ,GAAA,uBAAA,CAD5B,+BAC4B,CAAA,EAAR,QAAQ,CAAR;eAAA,Q","sourcesContent":["\n\n\n\n\n\n\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\nimport { Chart, registerables } from 'chart.js';\n\nChart.register(...registerables);\n\n@Component\nexport default class PieChart extends Vue {\n  @Prop({ required: true }) private chartData!: any;\n  \n  private chartInstance: Chart | null = null;\n  \n  mounted() {\n    this.renderChart();\n  }\n  \n  @Watch('chartData', { deep: true })\n  private onChartDataChange() {\n    this.renderChart();\n  }\n  \n  private renderChart() {\n    const ctx = (this.$refs.pieChart as HTMLCanvasElement).getContext('2d');\n    \n    if (this.chartInstance) {\n      this.chartInstance.destroy();\n    }\n    \n    if (ctx) {\n      this.chartInstance = new Chart(ctx, {\n        type: 'pie',\n        data: this.chartData,\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: {\n              position: 'right',\n            },\n            tooltip: {\n              callbacks: {\n                label: function(context) {\n                  const label = context.label || '';\n                  const value = context.raw || 0;\n                  const total = context.dataset.data.reduce((a: number, b: number) => a + b, 0);\n                  const percentage = Math.round((value / total) * 100);\n                  return `${label}: ${value} (${percentage}%)`;\n                }\n              }\n            }\n          }\n        }\n      });\n    }\n  }\n  \n  beforeDestroy() {\n    if (this.chartInstance) {\n      this.chartInstance.destroy();\n    }\n  }\n}\n"],"sourceRoot":""}]}