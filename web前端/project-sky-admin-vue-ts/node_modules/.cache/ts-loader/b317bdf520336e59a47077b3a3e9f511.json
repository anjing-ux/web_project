{"remainingRequest":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\thread-loader\\dist\\cjs.js!G:\\sky\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js!G:\\sky\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js??ref--13-3!G:\\sky\\project-sky-admin-vue-ts\\src\\permission.ts","dependencies":[{"path":"G:\\sky\\project-sky-admin-vue-ts\\src\\permission.ts","mtime":1652756116000},{"path":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"G:\\\\sky\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport router from \"./router\";\nimport NProgress from 'nprogress';\nimport 'nprogress/nprogress.css';\nimport Cookies from 'js-cookie';\nNProgress.configure({\n  'showSpinner': false\n});\nrouter.beforeEach(\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(to, _, next) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            NProgress.start();\n\n            if (Cookies.get('token')) {\n              next();\n            } else {\n              if (!to.meta.notNeedAuth) {\n                next('/login');\n              } else {\n                next();\n              }\n            }\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\nrouter.afterEach(function (to) {\n  NProgress.done();\n  document.title = to.meta.title;\n});",{"version":3,"sources":["G:\\sky\\project-sky-admin-vue-ts\\src\\permission.ts"],"names":[],"mappings":";;AAAA,OAAO,MAAP;AACA,OAAO,SAAP,MAAsB,WAAtB;AACA,OAAO,yBAAP;AAIA,OAAO,OAAP,MAAoB,WAApB;AAEA,SAAS,CAAC,SAAV,CAAoB;AAAE,iBAAe;AAAjB,CAApB;AAEA,MAAM,CAAC,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAkB,iBAAO,EAAP,EAAkB,CAAlB,EAA4B,IAA5B;AAAA;AAAA;AAAA;AAAA;AAChB,YAAA,SAAS,CAAC,KAAV;;AACA,gBAAI,OAAO,CAAC,GAAR,CAAY,OAAZ,CAAJ,EAA0B;AACxB,cAAA,IAAI;AACL,aAFD,MAEO;AACL,kBAAI,CAAC,EAAE,CAAC,IAAH,CAAQ,WAAb,EAA0B;AACxB,gBAAA,IAAI,CAAC,QAAD,CAAJ;AACD,eAFD,MAEO;AACL,gBAAA,IAAI;AACL;AACF;;AAVe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAaA,MAAM,CAAC,SAAP,CAAiB,UAAC,EAAD,EAAc;AAC7B,EAAA,SAAS,CAAC,IAAV;AACA,EAAA,QAAQ,CAAC,KAAT,GAAiB,EAAE,CAAC,IAAH,CAAQ,KAAzB;AACD,CAHD","sourcesContent":["import router from './router'\r\nimport NProgress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\nimport { Message } from 'element-ui'\r\nimport { Route } from 'vue-router'\r\nimport { UserModule } from '@/store/modules/user'\r\nimport Cookies from 'js-cookie'\r\n\r\nNProgress.configure({ 'showSpinner': false })\r\n\r\nrouter.beforeEach(async (to: Route, _: Route, next: any) => {\r\n  NProgress.start()\r\n  if (Cookies.get('token')) {\r\n    next()\r\n  } else {\r\n    if (!to.meta.notNeedAuth) {\r\n      next('/login')\r\n    } else {\r\n      next()\r\n    }\r\n  }\r\n})\r\n\r\nrouter.afterEach((to: Route) => {\r\n  NProgress.done()\r\n  document.title = to.meta.title\r\n})\r\n"],"sourceRoot":""}]}