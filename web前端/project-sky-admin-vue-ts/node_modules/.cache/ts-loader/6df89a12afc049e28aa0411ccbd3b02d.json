{"remainingRequest":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js??ref--14-2!G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\teamLeader\\deviceReview\\faultClear\\index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\teamLeader\\deviceReview\\faultClear\\index.vue","mtime":1748954066201},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\babel.config.js","mtime":1652756116000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\nrequire(\"core-js/modules/es6.reflect.construct\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es6.regexp.replace\");\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"core-js/modules/es6.array.find\");\nrequire(\"core-js/modules/es6.number.constructor\");\nvar _classCallCheck2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/createClass\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/getPrototypeOf\"));\nvar _inherits2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/inherits\"));\nvar _tslib = require(\"tslib\");\nvar _vuePropertyDecorator = require(\"vue-property-decorator\");\nvar _index = _interopRequireDefault(require(\"@/components/HeadLable/index.vue\"));\nvar _index2 = _interopRequireDefault(require(\"@/components/InputAutoComplete/index.vue\"));\nvar _tabChange = _interopRequireDefault(require(\"./tabChange.vue\"));\nvar _index3 = _interopRequireDefault(require(\"@/components/Empty/index.vue\"));\nvar _fault = require(\"@/api/fault\");\nfunction _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nvar default_1 = /*#__PURE__*/function (_Vue) {\n  function default_1() {\n    var _this;\n    (0, _classCallCheck2.default)(this, default_1);\n    _this = _callSuper(this, default_1, arguments);\n    _this.defaultActivity = 0;\n    _this.orderStatics = {\n      all: 15,\n      pending: 3,\n      processing: 4,\n      waitingClear: 5,\n      cleared: 2,\n      closed: 1\n    };\n    _this.row = {};\n    _this.faultType = '';\n    _this.faultCode = ''; // 故障编号\n    _this.dialogFaultStatus = -1;\n    _this.clearDialogVisible = false;\n    _this.auditDialogVisible = false; // 审核弹窗\n    _this.refuseDialogVisible = false; // 审核不通过原因弹窗\n    _this.taskDialogVisible = false; // 任务信息弹窗\n    _this.valueTime = [];\n    _this.dialogVisible = false; // 详情弹窗\n    _this.remark = ''; // 备注\n    _this.refuseReason = ''; // 审核不通过原因\n    _this.deviceName = '';\n    _this.counts = 15;\n    _this.page = 1;\n    _this.pageSize = 10;\n    _this.tableData = [];\n    _this.status = 0;\n    _this.diaForm = {}; // 修改为对象\n    _this.taskForm = {}; // 修改为对象\n    _this.isSearch = false;\n    _this.faultStatus = 0; // 列表字段展示所需状态,用于分页请求数据\n    // 审核不通过原因列表\n    _this.refuseFaultList = [{\n      label: '处理不完善',\n      value: '处理不完善'\n    }, {\n      label: '信息不完整',\n      value: '信息不完整'\n    }, {\n      label: '维修措施不当',\n      value: '维修措施不当'\n    }, {\n      label: '照片不清晰',\n      value: '照片不清晰'\n    }, {\n      label: '自定义原因',\n      value: '自定义原因'\n    }];\n    // 故障类型列表\n    _this.faultTypeList = [{\n      label: '类型1',\n      value: 1\n    }, {\n      label: '类型2',\n      value: 2\n    }, {\n      label: '类型3',\n      value: 3\n    }];\n    // 故障等级列表\n    _this.faultLevelList = [{\n      label: '一般',\n      value: 1\n    }, {\n      label: '重要',\n      value: 2\n    }, {\n      label: '紧急',\n      value: 3\n    }];\n    // 任务状态列表\n    _this.taskStatusList = [{\n      label: '执行中',\n      value: 1\n    }, {\n      label: '待验收',\n      value: 2\n    }, {\n      label: '已验收',\n      value: 3\n    }, {\n      label: '已销号',\n      value: 4\n    }, {\n      label: '被驳回',\n      value: 5\n    }];\n    _this.faultStatusList = [{\n      label: '待验收',\n      value: 2\n    }, {\n      label: '验收完成',\n      value: 3\n    }];\n    // 工区列表（示例数据）\n    _this.areaList = [{\n      id: 1,\n      name: '工区A'\n    }, {\n      id: 2,\n      name: '工区B'\n    }, {\n      id: 3,\n      name: '工区C'\n    }];\n    // 班组列表（示例数据）\n    _this.teamList = [{\n      id: 1,\n      name: '班组A'\n    }, {\n      id: 2,\n      name: '班组B'\n    }, {\n      id: 3,\n      name: '班组C'\n    }];\n    return _this;\n  }\n  (0, _inherits2.default)(default_1, _Vue);\n  return (0, _createClass2.default)(default_1, [{\n    key: \"created\",\n    value: function created() {\n      this.init(Number(this.$route.query.status) || 0);\n    }\n  }, {\n    key: \"mounted\",\n    value: function mounted() {\n      if (this.$route.query.faultId && this.$route.query.faultId !== 'undefined') {\n        this.goDetail(this.$route.query.faultId, 2);\n      }\n      if (this.$route.query.status) {\n        this.defaultActivity = Number(this.$route.query.status);\n      }\n    }\n    // 获取工区名称\n  }, {\n    key: \"getAreaName\",\n    value: function getAreaName(areaId) {\n      var area = this.areaList.find(function (item) {\n        return item.id === areaId;\n      });\n      return area ? area.name : '未知工区';\n    }\n    // 获取班组名称\n  }, {\n    key: \"getTeamName\",\n    value: function getTeamName(teamId) {\n      var team = this.teamList.find(function (item) {\n        return item.id === teamId;\n      });\n      return team ? team.name : '未知班组';\n    }\n    // 获取故障等级文本\n  }, {\n    key: \"getFaultLevelText\",\n    value: function getFaultLevelText(level) {\n      switch (level) {\n        case 1:\n          return '一般';\n        case 2:\n          return '重要';\n        case 3:\n          return '紧急';\n        default:\n          return '未知等级';\n      }\n    }\n    // 获取故障类型\n  }, {\n    key: \"getFaultType\",\n    value: function getFaultType(row) {\n      var type = this.faultTypeList.find(function (item) {\n        return item.value === row.faultType;\n      });\n      return type ? type.label : '未知类型';\n    }\n    // 获取故障等级\n  }, {\n    key: \"getFaultLevel\",\n    value: function getFaultLevel(row) {\n      var level = this.faultLevelList.find(function (item) {\n        return item.value === row.faultLevel;\n      });\n      return level ? level.label : '未知等级';\n    }\n    // 获取故障状态\n  }, {\n    key: \"getFaultStatus\",\n    value: function getFaultStatus(row) {\n      var status = this.faultStatusList.find(function (item) {\n        return item.value === row.status;\n      });\n      return status ? status.label : '未知状态';\n    }\n    // 获取任务状态文本\n  }, {\n    key: \"getTaskStatusText\",\n    value: function getTaskStatusText(status) {\n      var statusItem = this.taskStatusList.find(function (item) {\n        return item.value === status;\n      });\n      return statusItem ? statusItem.label : '未知状态';\n    }\n    // 初始化数据\n  }, {\n    key: \"init\",\n    value: function init(activeIndex) {\n      var _this2 = this;\n      var isSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      console.log('初始化数据当前activeIndex:', activeIndex);\n      this.faultStatus = activeIndex;\n      this.isSearch = isSearch;\n      var params = {\n        auditStatus: activeIndex,\n        page: this.page,\n        pageSize: this.pageSize,\n        deviceName: this.deviceName,\n        faultType: this.faultType || null,\n        startTime: this.valueTime && this.valueTime.length ? this.valueTime[0] : null,\n        completeTime: this.valueTime && this.valueTime.length ? this.valueTime[1] : null\n      };\n      (0, _fault.getFaultDetailPage)(params).then(function (res) {\n        console.log('index获取数据成功:', res.data);\n        if (res.data.code === 1) {\n          _this2.tableData = res.data.data.records || 0;\n          _this2.counts = res.data.data.total;\n        } else {\n          _this2.$message.error(res.data.msg || '获取数据失败');\n        }\n      }).catch(function () {\n        // 模拟数据，实际开发中可删除\n        //this.$message.error('未知错误请联系管理员')\n      });\n    }\n    // 初始化函数（用于回车搜索）\n  }, {\n    key: \"initFun\",\n    value: function initFun(status) {\n      this.init(status, true);\n    }\n    //管理标签页点击事件\n  }, {\n    key: \"change\",\n    value: function change(activeIndex) {\n      if (activeIndex === this.faultStatus) return;\n      this.init(activeIndex);\n      this.valueTime = [];\n      //this.dialogPurchaseStatus = 0\n      this.$router.push('/teamLeader/deviceReview/faultClear');\n      console.log(activeIndex, '接收到了子组件的index');\n    }\n    // 处理页码变化\n  }, {\n    key: \"handleCurrentChange\",\n    value: function handleCurrentChange(val) {\n      this.page = val;\n      this.init(this.faultStatus);\n    }\n    // 处理每页条数变化\n  }, {\n    key: \"handleSizeChange\",\n    value: function handleSizeChange(val) {\n      this.pageSize = val;\n      this.page = 1;\n      this.init(this.faultStatus);\n    }\n    // 关闭弹窗\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.dialogVisible = false;\n    }\n    // 添加故障报修\n  }, {\n    key: \"addFaultReport\",\n    value: function addFaultReport() {\n      this.$router.push('/teamLeader/deviceReview/faultClear/add');\n    }\n    // 查看详情\n  }, {\n    key: \"goDetail\",\n    value: function goDetail(faultId, status) {\n      var _this3 = this;\n      var row = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.row = row;\n      this.dialogFaultStatus = status;\n      this.dialogVisible = true;\n      // 获取故障详情\n      (0, _fault.queryFaultDetailById)(faultId).then(function (res) {\n        if (res.data.code === 1) {\n          _this3.diaForm = res.data.data;\n        } else {\n          _this3.$message.error(res.data.msg || '获取详情失败');\n        }\n      }).catch(function () {\n        // 模拟数据，实际开发中可删除\n        _this3.$message.error('未知错误请联系管理员');\n      });\n    }\n    // 审核故障\n  }, {\n    key: \"auditFault2\",\n    value: function auditFault2(row) {\n      var _this4 = this;\n      this.row = row;\n      this.dialogFaultStatus = row.status;\n      this.auditDialogVisible = true;\n      // 获取故障详情\n      (0, _fault.queryFaultDetailById)(row.faultId).then(function (res) {\n        if (res.data.code === 1) {\n          _this4.diaForm = res.data.data;\n        } else {\n          _this4.$message.error(res.data.msg || '获取详情失败');\n        }\n      }).catch(function () {\n        // 模拟数据，实际开发中可删除\n        _this4.$message.error('未知错误请联系管理员');\n      });\n    }\n    // 审核不通过\n  }, {\n    key: \"refuseFault\",\n    value: function refuseFault(row) {\n      this.row = row;\n      this.refuseDialogVisible = true;\n    }\n    // 确认审核不通过\n  }, {\n    key: \"confirmRefuse\",\n    value: function confirmRefuse() {\n      var _this5 = this;\n      if (!this.refuseReason) {\n        this.$message.error('请选择审核不通过原因');\n        return;\n      }\n      var params = {\n        approved: false,\n        faultId: this.row.faultId,\n        satisfactionScore: null,\n        verifyId: 1,\n        verifyOpinion: this.remark == '' ? this.refuseReason : this.remark\n      };\n      (0, _fault.auditFault2)(params).then(function (res) {\n        if (res.data.code === 1) {\n          _this5.$message.success('审核通过成功！');\n          _this5.clearDialogVisible = false;\n          _this5.dialogVisible = false;\n          _this5.refuseDialogVisible = false;\n          _this5.auditDialogVisible = false;\n          _this5.remark = '';\n          _this5.row = {};\n          _this5.init(_this5.faultStatus);\n        } else {\n          _this5.$message.error(res.data.msg || '操作失败');\n        }\n      }).catch(function () {\n        _this5.$message.error('服务器繁忙');\n        _this5.clearDialogVisible = false;\n        _this5.dialogVisible = false;\n        _this5.remark = '';\n        _this5.init(_this5.faultStatus);\n      });\n    }\n    // 审核通过确认框\n  }, {\n    key: \"confirmPassAudit\",\n    value: function confirmPassAudit(row) {\n      this.row = row;\n      this.clearDialogVisible = true;\n    }\n    // 确认审核通过！\n    // 确认审核通过！\n  }, {\n    key: \"passAudit\",\n    value: function passAudit() {\n      if (!this.remark) {\n        this.$message.error('请填写销号备注');\n        return;\n      }\n      // 关闭当前对话框\n      this.clearDialogVisible = false;\n      // 跳转到人脸识别页面\n      this.$router.push({\n        path: '/teamLeader/deviceReview/faultClear/face-recognition',\n        query: {\n          faultId: this.row.faultId,\n          remark: this.remark\n        }\n      });\n    }\n    // 查看任务信息\n  }, {\n    key: \"viewTaskInfo\",\n    value: function viewTaskInfo(row) {\n      var _this6 = this;\n      this.taskDialogVisible = true;\n      // 获取任务信息\n      (0, _fault.getTaskInfoByFaultId)(row.faultId).then(function (res) {\n        if (res.data.code === 1) {\n          _this6.taskForm = res.data.data;\n        } else {\n          _this6.$message.error(res.data.msg || '获取任务信息失败');\n        }\n      }).catch(function () {\n        // 模拟任务数据\n        _this6.taskForm = {\n          taskId: 1,\n          taskCode: 'TASK20230001',\n          faultId: row.faultId,\n          faultCode: row.faultCode,\n          deviceId: row.deviceId,\n          deviceCode: row.deviceCode,\n          deviceName: row.deviceName,\n          taskName: '设备故障维修任务',\n          startTime: '2023-05-10 10:00:00',\n          endTime: '2023-05-10 18:00:00',\n          executorId: 2001,\n          executorName: '李四',\n          status: 2,\n          completeTime: '2023-05-10 16:30:00',\n          closeTime: null,\n          areaId: row.areaId,\n          teamId: row.teamId,\n          createTime: '2023-05-10 09:45:00',\n          updateTime: '2023-05-10 16:30:00'\n        };\n      });\n    }\n    // 关闭任务信息弹窗\n  }, {\n    key: \"handleTaskClose\",\n    value: function handleTaskClose() {\n      this.taskDialogVisible = false;\n      this.taskForm = {};\n    }\n    // 关闭审核弹窗\n  }, {\n    key: \"handleAuditClose\",\n    value: function handleAuditClose() {\n      this.auditDialogVisible = false;\n      this.diaForm = {};\n    }\n  }]);\n}(_vuePropertyDecorator.Vue);\ndefault_1 = (0, _tslib.__decorate)([(0, _vuePropertyDecorator.Component)({\n  components: {\n    HeadLable: _index.default,\n    InputAutoComplete: _index2.default,\n    TabChange: _tabChange.default,\n    Empty: _index3.default\n  },\n  watch: {\n    '$route.query.refresh': {\n      handler: function handler(val) {\n        if (val === 'true') {\n          this.init(this.faultStatus);\n          // 清除refresh参数\n          this.$router.replace({\n            query: Object.assign({}, this.$route.query, {\n              refresh: undefined\n            })\n          });\n        }\n      },\n      immediate: true\n    }\n  }\n})], default_1);\nvar _default = exports.default = default_1;",{"version":3,"names":["_vuePropertyDecorator","require","_index","_interopRequireDefault","_index2","_tabChange","_index3","_fault","_callSuper","t","o","e","_getPrototypeOf2","default","_possibleConstructorReturn2","_isNativeReflectConstruct","Reflect","construct","constructor","apply","Boolean","prototype","valueOf","call","default_1","_Vue","_this","_classCallCheck2","defaultActivity","orderStatics","all","pending","processing","waitingClear","cleared","closed","row","faultType","faultCode","dialogFaultStatus","clearDialogVisible","auditDialogVisible","refuseDialogVisible","taskDialogVisible","valueTime","dialogVisible","remark","refuseReason","deviceName","counts","page","pageSize","tableData","status","diaForm","taskForm","isSearch","faultStatus","refuseFaultList","label","value","faultTypeList","faultLevelList","taskStatusList","faultStatusList","areaList","id","name","teamList","_inherits2","_createClass2","key","created","init","Number","$route","query","mounted","faultId","goDetail","getAreaName","areaId","area","find","item","getTeamName","teamId","team","getFaultLevelText","level","getFaultType","type","getFaultLevel","faultLevel","getFaultStatus","getTaskStatusText","statusItem","activeIndex","_this2","arguments","length","undefined","console","log","params","auditStatus","startTime","completeTime","getFaultDetailPage","then","res","data","code","records","total","$message","error","msg","catch","initFun","change","$router","push","handleCurrentChange","val","handleSizeChange","handleClose","addFaultReport","_this3","queryFaultDetailById","auditFault2","_this4","refuseFault","confirmRefuse","_this5","approved","satisfactionScore","verifyId","verifyOpinion","success","confirmPassAudit","passAudit","path","viewTaskInfo","_this6","getTaskInfoByFaultId","taskId","taskCode","deviceId","deviceCode","taskName","endTime","executorId","executorName","closeTime","createTime","updateTime","handleTaskClose","handleAuditClose","Vue","__decorate","Component","components","HeadLable","InputAutoComplete","TabChange","Empty","watch","handler","replace","Object","assign","refresh","immediate","_default","exports"],"sources":["G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\teamLeader\\deviceReview\\faultClear\\index.vue?vue&type=script&lang=ts&"],"sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport HeadLable from '@/components/HeadLable/index.vue'\r\nimport InputAutoComplete from '@/components/InputAutoComplete/index.vue'\r\nimport TabChange from './tabChange.vue'\r\nimport Empty from '@/components/Empty/index.vue'\r\nimport {\r\n  getFaultDetailPage,\r\n  queryFaultDetailById,\r\n  getFaultStatusListBy,\r\n  auditFault2,\r\n  getTaskInfoByFaultId\r\n} from '@/api/fault'\r\nimport { status } from 'nprogress'\r\nimport { verify } from 'crypto'\r\n\r\n@Component({\r\n  components: {\r\n    HeadLable,\r\n    InputAutoComplete,\r\n    TabChange,\r\n    Empty,\r\n  },\r\n  watch: {\r\n    '$route.query.refresh': {\r\n      handler(val) {\r\n        if (val === 'true') {\r\n          this.init(this.faultStatus);\r\n          // 清除refresh参数\r\n          this.$router.replace({\r\n            query: Object.assign({}, this.$route.query, { refresh: undefined })\r\n          });\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  }\r\n})\r\nexport default class extends Vue {\r\n  private defaultActivity: any = 0\r\n  private orderStatics = {\r\n    all: 15,\r\n    pending: 3,\r\n    processing: 4,\r\n    waitingClear: 5,\r\n    cleared: 2,\r\n    closed: 1\r\n  }\r\n  private row = {}\r\n  private faultType = ''\r\n  private faultCode = '' // 故障编号\r\n  private dialogFaultStatus = -1\r\n  private clearDialogVisible = false\r\n  private auditDialogVisible = false // 审核弹窗\r\n  private refuseDialogVisible = false // 审核不通过原因弹窗\r\n  private taskDialogVisible = false // 任务信息弹窗\r\n  private valueTime = []\r\n  private dialogVisible = false // 详情弹窗\r\n  private remark = '' // 备注\r\n  private refuseReason = '' // 审核不通过原因\r\n  private deviceName = ''\r\n  private counts: number = 15\r\n  private page: number = 1\r\n  private pageSize: number = 10\r\n  private tableData = []\r\n  private status = 0\r\n\r\n  private diaForm: any = {} // 修改为对象\r\n  private taskForm: any = {} // 修改为对象\r\n  private isSearch: boolean = false\r\n  private faultStatus = 0 // 列表字段展示所需状态,用于分页请求数据\r\n\r\n  // 审核不通过原因列表\r\n  private refuseFaultList = [\r\n    {\r\n      label: '处理不完善',\r\n      value: '处理不完善',\r\n    },\r\n    {\r\n      label: '信息不完整',\r\n      value: '信息不完整',\r\n    },\r\n    {\r\n      label: '维修措施不当',\r\n      value: '维修措施不当',\r\n    },\r\n    {\r\n      label: '照片不清晰',\r\n      value: '照片不清晰',\r\n    },\r\n    {\r\n      label: '自定义原因',\r\n      value: '自定义原因',\r\n    },\r\n  ]\r\n\r\n  // 故障类型列表\r\n  private faultTypeList = [\r\n    {\r\n      label: '类型1',\r\n      value: 1,\r\n    },\r\n    {\r\n      label: '类型2',\r\n      value: 2,\r\n    },\r\n    {\r\n      label: '类型3',\r\n      value: 3,\r\n    },\r\n  ]\r\n\r\n  // 故障等级列表\r\n  private faultLevelList = [\r\n    {\r\n      label: '一般',\r\n      value: 1,\r\n    },\r\n    {\r\n      label: '重要',\r\n      value: 2,\r\n    },\r\n    {\r\n      label: '紧急',\r\n      value: 3,\r\n    },\r\n  ]\r\n\r\n\r\n  \r\n  // 任务状态列表\r\n  private taskStatusList = [\r\n    {\r\n      label: '执行中',\r\n      value: 1,\r\n    },\r\n    {\r\n      label: '待验收',\r\n      value: 2,\r\n    },\r\n    {\r\n      label: '已验收',\r\n      value: 3,\r\n    },\r\n    {\r\n      label: '已销号',\r\n      value: 4,\r\n    },\r\n    {\r\n      label: '被驳回',\r\n      value: 5,\r\n    }\r\n  ]\r\n\r\n  private faultStatusList = [\r\n    {\r\n      label: '待验收',\r\n      value: 2,\r\n    },\r\n    {\r\n      label: '验收完成',\r\n      value: 3,\r\n    },\r\n    \r\n  ]\r\n  \r\n  // 工区列表（示例数据）\r\n  private areaList = [\r\n    { id: 1, name: '工区A' },\r\n    { id: 2, name: '工区B' },\r\n    { id: 3, name: '工区C' }\r\n  ]\r\n  \r\n  // 班组列表（示例数据）\r\n  private teamList = [\r\n    { id: 1, name: '班组A' },\r\n    { id: 2, name: '班组B' },\r\n    { id: 3, name: '班组C' }\r\n  ]\r\n\r\n  created() {\r\n    this.init(Number(this.$route.query.status) || 0)\r\n  }\r\n\r\n  mounted() {\r\n    if (\r\n      this.$route.query.faultId &&\r\n      this.$route.query.faultId !== 'undefined'\r\n    ) {\r\n      this.goDetail(this.$route.query.faultId, 2)\r\n    }\r\n    if (this.$route.query.status) {\r\n      this.defaultActivity = Number(this.$route.query.status)\r\n    }\r\n  }\r\n  \r\n  // 获取工区名称\r\n  private getAreaName(areaId: number): string {\r\n    const area = this.areaList.find(item => item.id === areaId)\r\n    return area ? area.name : '未知工区'\r\n  }\r\n  \r\n  // 获取班组名称\r\n  private getTeamName(teamId: number): string {\r\n    const team = this.teamList.find(item => item.id === teamId)\r\n    return team ? team.name : '未知班组'\r\n  }\r\n  \r\n  // 获取故障等级文本\r\n  private getFaultLevelText(level: number): string {\r\n    switch (level) {\r\n      case 1:\r\n        return '一般'\r\n      case 2:\r\n        return '重要'\r\n      case 3:\r\n        return '紧急'\r\n      default:\r\n        return '未知等级'\r\n    }\r\n  }\r\n  \r\n  // 获取故障类型\r\n  private getFaultType(row: any): string {\r\n    const type = this.faultTypeList.find(item => item.value === row.faultType)\r\n    return type ? type.label : '未知类型'\r\n  }\r\n  \r\n  // 获取故障等级\r\n  private getFaultLevel(row: any): string {\r\n    const level = this.faultLevelList.find(item => item.value === row.faultLevel)\r\n    return level ? level.label : '未知等级'\r\n  }\r\n  \r\n  // 获取故障状态\r\n  private getFaultStatus(row: any): string {\r\n    const status = this.faultStatusList.find(item => item.value === row.status)\r\n    return status ? status.label : '未知状态'\r\n  }\r\n  \r\n  // 获取任务状态文本\r\n  private getTaskStatusText(status: number): string {\r\n    const statusItem = this.taskStatusList.find(item => item.value === status)\r\n    return statusItem ? statusItem.label : '未知状态'\r\n  }\r\n  \r\n  // 初始化数据\r\n  private init(activeIndex: number, isSearch: boolean = false) {\r\n    console.log('初始化数据当前activeIndex:', activeIndex)\r\n    this.faultStatus = activeIndex\r\n    this.isSearch = isSearch\r\n    const params = {\r\n      auditStatus: activeIndex,\r\n      page: this.page,\r\n      pageSize: this.pageSize,\r\n      deviceName: this.deviceName,\r\n      faultType: this.faultType || null,\r\n      startTime: this.valueTime && this.valueTime.length ? this.valueTime[0] : null,\r\n      completeTime: this.valueTime && this.valueTime.length ? this.valueTime[1] : null,\r\n    }\r\n    \r\n    getFaultDetailPage(params).then(res => {\r\n      console.log('index获取数据成功:', res.data)\r\n      if (res.data.code === 1) {\r\n        this.tableData = res.data.data.records || 0\r\n        this.counts = res.data.data.total\r\n      } else {\r\n        this.$message.error(res.data.msg || '获取数据失败')\r\n      }\r\n    }).catch(() => {\r\n      // 模拟数据，实际开发中可删除\r\n      //this.$message.error('未知错误请联系管理员')\r\n    })\r\n  }\r\n  \r\n  // 初始化函数（用于回车搜索）\r\n  private initFun(status: number) {\r\n    this.init(status, true)\r\n  }\r\n  \r\n  //管理标签页点击事件\r\n  change(activeIndex) {\r\n    if (activeIndex === this.faultStatus) return\r\n    this.init(activeIndex)\r\n    this.valueTime = []\r\n    //this.dialogPurchaseStatus = 0\r\n    this.$router.push('/teamLeader/deviceReview/faultClear')\r\n    console.log(activeIndex, '接收到了子组件的index')\r\n  }\r\n\r\n  \r\n  // 处理页码变化\r\n  private handleCurrentChange(val: number) {\r\n    this.page = val\r\n    this.init(this.faultStatus)\r\n  }\r\n  \r\n  // 处理每页条数变化\r\n  private handleSizeChange(val: number) {\r\n    this.pageSize = val\r\n    this.page = 1\r\n    this.init(this.faultStatus)\r\n  }\r\n  \r\n  // 关闭弹窗\r\n  private handleClose() {\r\n    this.dialogVisible = false\r\n  }\r\n    // 添加故障报修\r\n  private addFaultReport() {\r\n    this.$router.push('/teamLeader/deviceReview/faultClear/add')\r\n  }\r\n  \r\n  \r\n  // 查看详情\r\n  private goDetail(faultId: string, status: number, row: any = {}) {\r\n    this.row = row\r\n    this.dialogFaultStatus = status\r\n    this.dialogVisible = true\r\n    \r\n    // 获取故障详情\r\n    queryFaultDetailById(faultId).then(res => {\r\n      if (res.data.code === 1) {\r\n        this.diaForm = res.data.data\r\n      } else {\r\n        this.$message.error(res.data.msg || '获取详情失败')\r\n      }\r\n    }).catch(() => {\r\n      // 模拟数据，实际开发中可删除\r\n      this.$message.error('未知错误请联系管理员')\r\n    })\r\n  }\r\n  \r\n  // 审核故障\r\n  private auditFault2(row: any) {\r\n    this.row = row\r\n    this.dialogFaultStatus = row.status\r\n    this.auditDialogVisible = true\r\n    // 获取故障详情\r\n    queryFaultDetailById(row.faultId).then(res => {\r\n      if (res.data.code === 1) {\r\n        this.diaForm = res.data.data\r\n      } else {\r\n        this.$message.error(res.data.msg || '获取详情失败')\r\n      }\r\n    }).catch(() => {\r\n      // 模拟数据，实际开发中可删除\r\n      this.$message.error('未知错误请联系管理员')\r\n    })\r\n  }\r\n  \r\n  // 审核不通过\r\n  private refuseFault(row: any) {\r\n    this.row = row\r\n    this.refuseDialogVisible = true\r\n  }\r\n  \r\n  // 确认审核不通过\r\n  private confirmRefuse() {\r\n    if (!this.refuseReason) {\r\n      this.$message.error('请选择审核不通过原因')\r\n      return\r\n    }\r\n    \r\n   \r\n    const params = {\r\n      approved: false,\r\n      faultId: this.row.faultId,\r\n      satisfactionScore: null,\r\n      verifyId: 1,\r\n      verifyOpinion: this.remark == '' ? this.refuseReason : this.remark,\r\n    };\r\n    \r\n    auditFault2(params).then(res => {\r\n      if (res.data.code === 1) {\r\n        this.$message.success('审核通过成功！')\r\n        this.clearDialogVisible = false\r\n        this.dialogVisible = false\r\n        this.refuseDialogVisible = false\r\n        this.auditDialogVisible = false\r\n        this.remark = ''\r\n        this.row = {}\r\n        this.init(this.faultStatus)\r\n      } else {\r\n        this.$message.error(res.data.msg || '操作失败')\r\n      }\r\n    }).catch(() => {\r\n      this.$message.error('服务器繁忙')\r\n      this.clearDialogVisible = false\r\n      this.dialogVisible = false\r\n      this.remark = ''\r\n      this.init(this.faultStatus)\r\n    })\r\n  }\r\n  \r\n\r\n  \r\n  // 审核通过确认框\r\n  private confirmPassAudit(row: any) {\r\n    this.row = row\r\n    this.clearDialogVisible = true\r\n  }\r\n  \r\n\r\n// 确认审核通过！\r\n\r\n// 确认审核通过！\r\nprivate passAudit() {\r\n  if (!this.remark) {\r\n    this.$message.error('请填写销号备注');\r\n    return;\r\n  }\r\n  \r\n  // 关闭当前对话框\r\n  this.clearDialogVisible = false;\r\n  \r\n  // 跳转到人脸识别页面\r\n  this.$router.push({\r\n    path: '/teamLeader/deviceReview/faultClear/face-recognition',\r\n    query: {\r\n      faultId: this.row.faultId,\r\n      remark: this.remark\r\n    }\r\n  });\r\n}\r\n\r\n  // 查看任务信息\r\n  private viewTaskInfo(row: any) {\r\n    this.taskDialogVisible = true\r\n    // 获取任务信息\r\n    getTaskInfoByFaultId(row.faultId).then(res => {\r\n      if (res.data.code === 1) {\r\n        this.taskForm = res.data.data\r\n      } else {\r\n        this.$message.error(res.data.msg || '获取任务信息失败')\r\n      }\r\n    }).catch(() => {\r\n      // 模拟任务数据\r\n      this.taskForm = {\r\n        taskId: 1,\r\n        taskCode: 'TASK20230001',\r\n        faultId: row.faultId,\r\n        faultCode: row.faultCode,\r\n        deviceId: row.deviceId,\r\n        deviceCode: row.deviceCode,\r\n        deviceName: row.deviceName,\r\n        taskName: '设备故障维修任务',\r\n        startTime: '2023-05-10 10:00:00',\r\n        endTime: '2023-05-10 18:00:00',\r\n        executorId: 2001,\r\n        executorName: '李四',\r\n        status: 2,\r\n        completeTime: '2023-05-10 16:30:00',\r\n        closeTime: null,\r\n        areaId: row.areaId,\r\n        teamId: row.teamId,\r\n        createTime: '2023-05-10 09:45:00',\r\n        updateTime: '2023-05-10 16:30:00'\r\n      }\r\n    })\r\n  }\r\n  \r\n  // 关闭任务信息弹窗\r\n  private handleTaskClose() {\r\n    this.taskDialogVisible = false\r\n    this.taskForm = {}\r\n  }\r\n  \r\n  // 关闭审核弹窗\r\n  private handleAuditClose() {\r\n    this.auditDialogVisible = false\r\n    this.diaForm = {}\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]}]}