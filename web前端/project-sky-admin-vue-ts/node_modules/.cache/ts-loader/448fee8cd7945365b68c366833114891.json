{"remainingRequest":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\thread-loader\\dist\\cjs.js!G:\\sky\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js!G:\\sky\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js??ref--13-3!G:\\sky\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\sky\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\sky\\project-sky-admin-vue-ts\\src\\layout\\components\\Sidebar\\index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"G:\\sky\\project-sky-admin-vue-ts\\src\\layout\\components\\Sidebar\\index.vue","mtime":1745331349894},{"path":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport _toConsumableArray from \"G:\\\\sky\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"G:\\\\sky\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"G:\\\\sky\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"G:\\\\sky\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"G:\\\\sky\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"G:\\\\sky\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"G:\\\\sky\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits\";\nimport { __decorate } from \"tslib\";\nimport { Component, Vue } from 'vue-property-decorator';\nimport { AppModule } from '@/store/modules/app';\nimport { UserModule } from '@/store/modules/user';\nimport SidebarItem from \"./SidebarItem.vue\";\nimport variables from '@/styles/_variables.scss';\nimport Cookies from 'js-cookie';\n\nvar default_1 =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(default_1, _Vue);\n\n  function default_1() {\n    var _this;\n\n    _classCallCheck(this, default_1);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(default_1).apply(this, arguments));\n    _this.restKey = 0;\n    return _this;\n  }\n\n  _createClass(default_1, [{\n    key: \"logout\",\n    value: function () {\n      var _logout = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.$store.dispatch('LogOut').then(function () {\n                  // location.href = '/'\n                  _this2.$router.replace({\n                    path: '/login'\n                  });\n                }); // this.$router.push(`/login?redirect=${this.$route.fullPath}`)\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n\n      return logout;\n    }()\n  }, {\n    key: \"name\",\n    get: function get() {\n      return UserModule.userInfo.name ? UserModule.userInfo.name : JSON.parse(Cookies.get('user_info')).name;\n    }\n  }, {\n    key: \"defOpen\",\n    get: function get() {\n      var _this3 = this;\n\n      // const urlArr = this.$route.path.split('/')\n      // const openStr = urlArr.length > 2 ? `/${urlArr[1]}` : '/'\n      var path = ['/'];\n      this.routes.forEach(function (n, i) {\n        if (n.meta.roles && n.meta.roles[0] === _this3.roles[0]) {\n          path.splice(0, 1, n.path);\n        }\n      });\n      return path;\n    }\n  }, {\n    key: \"defAct\",\n    get: function get() {\n      var path = this.$route.path;\n      return path;\n    }\n  }, {\n    key: \"sidebar\",\n    get: function get() {\n      return AppModule.sidebar;\n    }\n  }, {\n    key: \"roles\",\n    get: function get() {\n      return UserModule.roles;\n    }\n  }, {\n    key: \"routes\",\n    get: function get() {\n      var routes = JSON.parse(JSON.stringify(_toConsumableArray(this.$router.options.routes)));\n      console.log('-=-=routes=-=-=', routes);\n      console.log('-=-=routes=-=-=', this.roles[0]);\n      var menuList = [];\n      var menu = routes.find(function (item) {\n        return item.path === '/';\n      });\n\n      if (menu) {\n        menuList = menu.children;\n      }\n\n      console.log('-=-=routes=-wwww=-=', routes);\n      return menuList;\n    }\n  }, {\n    key: \"variables\",\n    get: function get() {\n      return variables;\n    }\n  }, {\n    key: \"isCollapse\",\n    get: function get() {\n      return !this.sidebar.opened;\n    }\n  }]);\n\n  return default_1;\n}(Vue);\n\ndefault_1 = __decorate([Component({\n  name: 'SideBar',\n  components: {\n    SidebarItem: SidebarItem\n  }\n})], default_1);\nexport default default_1;",{"version":3,"sources":["G:\\sky\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\sky\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\sky\\project-sky-admin-vue-ts\\src\\layout\\components\\Sidebar\\index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator'\r\nimport { AppModule } from '@/store/modules/app'\r\nimport { UserModule } from '@/store/modules/user'\r\nimport SidebarItem from './SidebarItem.vue'\r\nimport variables from '@/styles/_variables.scss'\r\nimport { getSidebarStatus, setSidebarStatus } from '@/utils/cookies'\r\nimport Cookies from 'js-cookie'\r\n@Component({\r\n  name: 'SideBar',\r\n  components: {\r\n    SidebarItem\r\n  }\r\n})\r\nexport default class extends Vue {\r\n  private restKey: number = 0\r\n  get name() {\r\n    return (UserModule.userInfo as any).name\r\n      ? (UserModule.userInfo as any).name\r\n      : JSON.parse(Cookies.get('user_info') as any).name\r\n  }\r\n  get defOpen() {\r\n    // const urlArr = this.$route.path.split('/')\r\n    // const openStr = urlArr.length > 2 ? `/${urlArr[1]}` : '/'\r\n    let path = ['/']\r\n    this.routes.forEach((n: any, i: number) => {\r\n      if (n.meta.roles && n.meta.roles[0] === this.roles[0]) {\r\n        path.splice(0, 1, n.path)\r\n      }\r\n    })\r\n    return path\r\n  }\r\n\r\n  get defAct() {\r\n    let path = this.$route.path\r\n    return path\r\n  }\r\n\r\n  get sidebar() {\r\n    return AppModule.sidebar\r\n  }\r\n\r\n  get roles() {\r\n    return UserModule.roles\r\n  }\r\n\r\n  get routes() {\r\n    let routes = JSON.parse(\r\n      JSON.stringify([...(this.$router as any).options.routes])\r\n    )\r\n    console.log('-=-=routes=-=-=', routes)\r\n    console.log('-=-=routes=-=-=', this.roles[0])\r\n    let menuList = []\r\n    let menu = routes.find(item => item.path === '/')\r\n    if (menu) {\r\n      menuList = menu.children\r\n    }\r\n    console.log('-=-=routes=-wwww=-=', routes)\r\n    return menuList\r\n  }\r\n\r\n  get variables() {\r\n    return variables\r\n  }\r\n\r\n  get isCollapse() {\r\n    return !this.sidebar.opened\r\n  }\r\n  private async logout() {\r\n    this.$store.dispatch('LogOut').then(() => {\r\n      // location.href = '/'\r\n      this.$router.replace({ path: '/login' })\r\n    })\r\n    // this.$router.push(`/login?redirect=${this.$route.fullPath}`)\r\n  }\r\n}\r\n"],"sourceRoot":""}]}