{"remainingRequest":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\thread-loader\\dist\\cjs.js!G:\\sky\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js!G:\\sky\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js??ref--13-3!G:\\sky\\project-sky-admin-vue-ts\\src\\utils\\requestOptimize.ts","dependencies":[{"path":"G:\\sky\\project-sky-admin-vue-ts\\src\\utils\\requestOptimize.ts","mtime":1652756116000},{"path":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\sky\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import md5 from 'md5'; //根据请求的地址，方式，参数，统一计算出当前请求的md5值作为key\n\nvar getRequestKey = function getRequestKey(config) {\n  if (!config) {\n    // 如果没有获取到请求的相关配置信息，根据时间戳生成\n    return md5(+new Date());\n  }\n\n  var data = typeof config.data === 'string' ? config.data : JSON.stringify(config.data); // console.log(config,pending,config.url,md5(config.url + '&' + config.method + '&' + data),'config')\n\n  return md5(config.url + '&' + config.method + '&' + data);\n}; // 存储key值\n\n\nvar pending = {}; // 检查key值\n\nvar checkPending = function checkPending(key) {\n  return !!pending[key];\n}; // 删除key值\n\n\nvar removePending = function removePending(key) {\n  // console.log(key,'key')\n  delete pending[key];\n};\n\nexport { getRequestKey, pending, checkPending, removePending };",{"version":3,"sources":["G:\\sky\\project-sky-admin-vue-ts\\src\\utils\\requestOptimize.ts"],"names":[],"mappings":"AAAA,OAAO,GAAP,MAAgB,KAAhB,C,CAEA;;AACA,IAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,MAAD,EAAW;AAC7B,MAAI,CAAC,MAAL,EAAa;AACT;AACA,WAAO,GAAG,CAAC,CAAC,IAAI,IAAJ,EAAF,CAAV;AACH;;AAED,MAAM,IAAI,GAAG,OAAO,MAAM,CAAC,IAAd,KAAuB,QAAvB,GAAkC,MAAM,CAAC,IAAzC,GAAgD,IAAI,CAAC,SAAL,CAAe,MAAM,CAAC,IAAtB,CAA7D,CAN6B,CAO7B;;AACA,SAAO,GAAG,CAAC,MAAM,CAAC,GAAP,GAAa,GAAb,GAAmB,MAAM,CAAC,MAA1B,GAAmC,GAAnC,GAAyC,IAA1C,CAAV;AACH,CATD,C,CAWA;;;AACA,IAAM,OAAO,GAAG,EAAhB,C,CACA;;AACA,IAAM,YAAY,GAAG,SAAf,YAAe,CAAC,GAAD;AAAA,SAAS,CAAC,CAAC,OAAO,CAAC,GAAD,CAAlB;AAAA,CAArB,C,CACA;;;AACA,IAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,GAAD,EAAQ;AAC1B;AACA,SAAO,OAAO,CAAC,GAAD,CAAd;AACH,CAHD;;AAKA,SACI,aADJ,EAEI,OAFJ,EAGI,YAHJ,EAII,aAJJ","sourcesContent":["import md5 from 'md5';\r\n\r\n//根据请求的地址，方式，参数，统一计算出当前请求的md5值作为key\r\nconst getRequestKey = (config) => {\r\n    if (!config) {\r\n        // 如果没有获取到请求的相关配置信息，根据时间戳生成\r\n        return md5(+new Date());\r\n    }\r\n\r\n    const data = typeof config.data === 'string' ? config.data : JSON.stringify(config.data);\r\n    // console.log(config,pending,config.url,md5(config.url + '&' + config.method + '&' + data),'config')\r\n    return md5(config.url + '&' + config.method + '&' + data);\r\n}\r\n\r\n// 存储key值\r\nconst pending = {};\r\n// 检查key值\r\nconst checkPending = (key) => !!pending[key];\r\n// 删除key值\r\nconst removePending = (key) => {\r\n    // console.log(key,'key')\r\n    delete pending[key];\r\n};\r\n\r\nexport {\r\n    getRequestKey,\r\n    pending,\r\n    checkPending,\r\n    removePending\r\n}\r\n"],"sourceRoot":""}]}