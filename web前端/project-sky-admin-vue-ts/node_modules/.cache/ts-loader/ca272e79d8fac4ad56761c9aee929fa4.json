{"remainingRequest":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js!G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js??ref--14-2!G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\director\\dashboard\\index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\director\\dashboard\\index.vue","mtime":1748452318000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"G:\\\\device-management\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/inherits\"));\n\nvar _tslib = require(\"tslib\");\n\nvar _vuePropertyDecorator = require(\"vue-property-decorator\");\n\nvar _charts = require(\"@/api/charts\");\n\nvar _LineChart = _interopRequireDefault(require(\"./components/LineChart.vue\"));\n\nvar _PieChart = _interopRequireDefault(require(\"./components/PieChart.vue\"));\n\nvar default_1 =\n/*#__PURE__*/\nfunction (_Vue) {\n  (0, _inherits2.default)(default_1, _Vue);\n\n  function default_1() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, default_1);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(default_1).apply(this, arguments));\n    _this.statistics = {\n      totalDevices: 0,\n      inStockDevices: 0,\n      todayOutbound: 0,\n      pendingFault: 0\n    };\n    _this.chartDateRange = [];\n    _this.lineChartData = {\n      labels: [],\n      datasets: [{\n        label: '入库数量',\n        data: [],\n        backgroundColor: '#409EFF',\n        borderColor: '#409EFF'\n      }, {\n        label: '出库数量',\n        data: [],\n        backgroundColor: '#67C23A',\n        borderColor: '#67C23A'\n      }]\n    };\n    _this.pieChartData = {\n      labels: [],\n      datasets: [{\n        data: [],\n        backgroundColor: ['#409EFF', '#67C23A', '#E6A23C', '#F56C6C']\n      }]\n    };\n    _this.recentInbound = [];\n    _this.pendingOutbound = [];\n    return _this;\n  }\n\n  (0, _createClass2.default)(default_1, [{\n    key: \"created\",\n    value: function created() {\n      this.loadData();\n      this.loadChartData();\n    }\n  }, {\n    key: \"loadData\",\n    value: function () {\n      var _loadData = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return (0, _charts.getDashboardData)();\n\n              case 3:\n                res = _context.sent;\n\n                if (res.data.code === 1) {\n                  this.statistics = res.data.data.statistics;\n                  this.recentInbound = res.data.data.recentInbound;\n                  this.pendingOutbound = res.data.data.pendingOutbound;\n                }\n\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                this.$message.error('加载数据失败: ' + _context.t0.message);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 7]]);\n      }));\n\n      function loadData() {\n        return _loadData.apply(this, arguments);\n      }\n\n      return loadData;\n    }()\n  }, {\n    key: \"loadChartData\",\n    value: function () {\n      var _loadChartData = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var params, res;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                params = {\n                  startDate: this.chartDateRange && this.chartDateRange[0],\n                  endDate: this.chartDateRange && this.chartDateRange[1]\n                };\n                _context2.next = 4;\n                return (0, _charts.getChartData)(params);\n\n              case 4:\n                res = _context2.sent;\n\n                if (res.data.code === 1) {\n                  this.lineChartData = {\n                    labels: res.data.data.lineChart.labels,\n                    datasets: [{\n                      label: '入库数量',\n                      data: res.data.data.lineChart.inboundData,\n                      backgroundColor: '#409EFF',\n                      borderColor: '#409EFF'\n                    }, {\n                      label: '出库数量',\n                      data: res.data.data.lineChart.outboundData,\n                      backgroundColor: '#67C23A',\n                      borderColor: '#67C23A'\n                    }]\n                  };\n                  this.pieChartData = {\n                    labels: res.data.data.pieChart.labels,\n                    datasets: [{\n                      data: res.data.data.pieChart.data,\n                      backgroundColor: ['#409EFF', '#67C23A', '#E6A23C', '#F56C6C']\n                    }]\n                  };\n                }\n\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](0);\n                this.$message.error('加载图表数据失败: ' + _context2.t0.message);\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 8]]);\n      }));\n\n      function loadChartData() {\n        return _loadChartData.apply(this, arguments);\n      }\n\n      return loadChartData;\n    }()\n  }, {\n    key: \"getEquipmentTypeName\",\n    value: function getEquipmentTypeName(type) {\n      var types = {\n        1: '客服设备',\n        2: '机电设备',\n        3: '消防设备',\n        4: '电梯设备'\n      };\n      return types[type] || '未知类型';\n    }\n  }, {\n    key: \"goToInbound\",\n    value: function goToInbound() {\n      this.$router.push(\"/WarehouseManager/outbound\");\n    }\n  }, {\n    key: \"goToOutbound\",\n    value: function goToOutbound() {\n      this.$router.push(\"/WarehouseManager/inbound\");\n    }\n  }]);\n  return default_1;\n}(_vuePropertyDecorator.Vue);\n\ndefault_1 = (0, _tslib.__decorate)([(0, _vuePropertyDecorator.Component)({\n  name: 'Dashboard',\n  components: {\n    LineChart: _LineChart.default,\n    PieChart: _PieChart.default\n  }\n})], default_1);\nvar _default = default_1;\nexports.default = _default;",{"version":3,"sources":["G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\device-management\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\device-management\\project-sky-admin-vue-ts\\src\\views\\director\\dashboard\\index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport { getDashboardData, getChartData } from '@/api/charts';\r\nimport LineChart from './components/LineChart.vue';\r\nimport PieChart from './components/PieChart.vue';\r\n\r\n@Component({\r\n  name: 'Dashboard',\r\n  components: {\r\n    LineChart,\r\n    PieChart\r\n  }\r\n})\r\nexport default class extends Vue {\r\n  private statistics = {\r\n    totalDevices: 0,\r\n    inStockDevices: 0,\r\n    todayOutbound: 0,\r\n    pendingFault: 0\r\n  };\r\n\r\n  private chartDateRange = [];\r\n  private lineChartData = {\r\n    labels: [],\r\n    datasets: [\r\n      {\r\n        label: '入库数量',\r\n        data: [],\r\n        backgroundColor: '#409EFF',\r\n        borderColor: '#409EFF'\r\n      },\r\n      {\r\n        label: '出库数量',\r\n        data: [],\r\n        backgroundColor: '#67C23A',\r\n        borderColor: '#67C23A'\r\n      }\r\n    ]\r\n  };\r\n\r\n  private pieChartData = {\r\n    labels: [],\r\n    datasets: [\r\n      {\r\n        data: [],\r\n        backgroundColor: [\r\n          '#409EFF',\r\n          '#67C23A',\r\n          '#E6A23C',\r\n          '#F56C6C'\r\n        ]\r\n      }\r\n    ]\r\n  };\r\n\r\n  private recentInbound = [];\r\n  private pendingOutbound = [];\r\n\r\n  created() {\r\n    this.loadData();\r\n    this.loadChartData();\r\n  }\r\n\r\n  private async loadData() {\r\n    try {\r\n      const res = await getDashboardData();\r\n      if (res.data.code === 1) {\r\n        this.statistics = res.data.data.statistics;\r\n        this.recentInbound = res.data.data.recentInbound;\r\n        this.pendingOutbound = res.data.data.pendingOutbound;\r\n      }\r\n    } catch (err) {\r\n      this.$message.error('加载数据失败: ' + err.message);\r\n    }\r\n  }\r\n\r\n  private async loadChartData() {\r\n    try {\r\n      const params = {\r\n        startDate: this.chartDateRange && this.chartDateRange[0],\r\n        endDate: this.chartDateRange && this.chartDateRange[1]\r\n      };\r\n      \r\n      const res = await getChartData(params);\r\n      if (res.data.code === 1) {\r\n        this.lineChartData = {\r\n          labels: res.data.data.lineChart.labels,\r\n          datasets: [\r\n            {\r\n              label: '入库数量',\r\n              data: res.data.data.lineChart.inboundData,\r\n              backgroundColor: '#409EFF',\r\n              borderColor: '#409EFF'\r\n            },\r\n            {\r\n              label: '出库数量',\r\n              data: res.data.data.lineChart.outboundData,\r\n              backgroundColor: '#67C23A',\r\n              borderColor: '#67C23A'\r\n            }\r\n          ]\r\n        };\r\n\r\n        this.pieChartData = {\r\n          labels: res.data.data.pieChart.labels,\r\n          datasets: [\r\n            {\r\n              data: res.data.data.pieChart.data,\r\n              backgroundColor: [\r\n                '#409EFF',\r\n                '#67C23A',\r\n                '#E6A23C',\r\n                '#F56C6C'\r\n              ]\r\n            }\r\n          ]\r\n        };\r\n      }\r\n    } catch (err) {\r\n      this.$message.error('加载图表数据失败: ' + err.message);\r\n    }\r\n  }\r\n\r\n  private getEquipmentTypeName(type: number) {\r\n    const types = {\r\n      1: '客服设备',\r\n      2: '机电设备',\r\n      3: '消防设备',\r\n      4: '电梯设备'\r\n    };\r\n    return types[type] || '未知类型';\r\n  }\r\n\r\n  private goToInbound() {\r\n    this.$router.push(`/WarehouseManager/outbound`);\r\n  }\r\n\r\n  private goToOutbound() {\r\n    this.$router.push(`/WarehouseManager/inbound`);\r\n  }\r\n}\r\n"],"sourceRoot":""}]}